<!DOCTYPE html>
<html lang="en"><head>
<script src="talk2_files/libs/clipboard/clipboard.min.js"></script>
<script src="talk2_files/libs/quarto-html/tabby.min.js"></script>
<script src="talk2_files/libs/quarto-html/popper.min.js"></script>
<script src="talk2_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="talk2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="talk2_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="talk2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <meta name="author" content="Munir Hiabu">
  <title>Planted Machine Learning</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="talk2_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="talk2_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="talk2_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="xaringan-themer.css">
  <link rel="stylesheet" href="sydney.css">
  <link rel="stylesheet" href="sydney-font.css">
  <link href="talk2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="talk2_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="talk2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="talk2_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="talk2_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="talk2_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="talk2_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <script src="talk2_files/libs/rglWebGL-binding-0.110.2/rglWebGL.js"></script>
  <link href="talk2_files/libs/rglwidgetClass-0.110.2/rgl.css" rel="stylesheet">
  <script src="talk2_files/libs/rglwidgetClass-0.110.2/rglClass.min.js"></script>
  <!--html_preserve--><script type="text/plain" id="rgl-vertex-shader">
  #line 2 1
  // File 1 is the vertex shader
  #ifdef GL_ES
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
  #else
  precision mediump float;
  #endif
  #endif

  attribute vec3 aPos;
  attribute vec4 aCol;
  uniform mat4 mvMatrix;
  uniform mat4 prMatrix;
  varying vec4 vCol;
  varying vec4 vPosition;

  #ifdef NEEDS_VNORMAL
  attribute vec3 aNorm;
  uniform mat4 normMatrix;
  varying vec4 vNormal;
  #endif

  #if defined(HAS_TEXTURE) || defined (IS_TEXT)
  attribute vec2 aTexcoord;
  varying vec2 vTexcoord;
  #endif

  #ifdef FIXED_SIZE
  uniform vec3 textScale;
  #endif

  #ifdef FIXED_QUADS
  attribute vec3 aOfs;
  #endif

  #ifdef IS_TWOSIDED
  #ifdef HAS_NORMALS
  varying float normz;
  uniform mat4 invPrMatrix;
  #else
  attribute vec3 aPos1;
  attribute vec3 aPos2;
  varying float normz;
  #endif
  #endif // IS_TWOSIDED

  #ifdef FAT_LINES
  attribute vec3 aNext;
  attribute vec2 aPoint;
  varying vec2 vPoint;
  varying float vLength;
  uniform float uAspect;
  uniform float uLwd;
  #endif


  void main(void) {
    
  #ifndef IS_BRUSH
  #if defined(NCLIPPLANES) || !defined(FIXED_QUADS) || defined(HAS_FOG)
    vPosition = mvMatrix * vec4(aPos, 1.);
  #endif
    
  #ifndef FIXED_QUADS
    gl_Position = prMatrix * vPosition;
  #endif
  #endif // !IS_BRUSH
    
  #ifdef IS_POINTS
    gl_PointSize = POINTSIZE;
  #endif
    
    vCol = aCol;
    
  #ifdef NEEDS_VNORMAL
    vNormal = normMatrix * vec4(-aNorm, dot(aNorm, aPos));
  #endif
    
  #ifdef IS_TWOSIDED
  #ifdef HAS_NORMALS
    /* normz should be calculated *after* projection */
    normz = (invPrMatrix*vNormal).z;
  #else
    vec4 pos1 = prMatrix*(mvMatrix*vec4(aPos1, 1.));
    pos1 = pos1/pos1.w - gl_Position/gl_Position.w;
    vec4 pos2 = prMatrix*(mvMatrix*vec4(aPos2, 1.));
    pos2 = pos2/pos2.w - gl_Position/gl_Position.w;
    normz = pos1.x*pos2.y - pos1.y*pos2.x;
  #endif
  #endif // IS_TWOSIDED
    
  #ifdef NEEDS_VNORMAL
    vNormal = vec4(normalize(vNormal.xyz/vNormal.w), 1);
  #endif
    
  #if defined(HAS_TEXTURE) || defined(IS_TEXT)
    vTexcoord = aTexcoord;
  #endif
    
  #if defined(FIXED_SIZE) && !defined(ROTATING)
    vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
    pos = pos/pos.w;
    gl_Position = pos + vec4(aOfs*textScale, 0.);
  #endif
    
  #if defined(IS_SPRITES) && !defined(FIXED_SIZE)
    vec4 pos = mvMatrix * vec4(aPos, 1.);
    pos = pos/pos.w + vec4(aOfs,  0.);
    gl_Position = prMatrix*pos;
  #endif
    
  #ifdef FAT_LINES
    /* This code was inspired by Matt Deslauriers' code in 
     https://mattdesl.svbtle.com/drawing-lines-is-hard */
    vec2 aspectVec = vec2(uAspect, 1.0);
    mat4 projViewModel = prMatrix * mvMatrix;
    vec4 currentProjected = projViewModel * vec4(aPos, 1.0);
    currentProjected = currentProjected/currentProjected.w;
    vec4 nextProjected = projViewModel * vec4(aNext, 1.0);
    vec2 currentScreen = currentProjected.xy * aspectVec;
    vec2 nextScreen = (nextProjected.xy / nextProjected.w) * aspectVec;
    float len = uLwd;
    vec2 dir = vec2(1.0, 0.0);
    vPoint = aPoint;
    vLength = length(nextScreen - currentScreen)/2.0;
    vLength = vLength/(vLength + len);
    if (vLength > 0.0) {
      dir = normalize(nextScreen - currentScreen);
    }
    vec2 normal = vec2(-dir.y, dir.x);
    dir.x /= uAspect;
    normal.x /= uAspect;
    vec4 offset = vec4(len*(normal*aPoint.x*aPoint.y - dir), 0.0, 0.0);
    gl_Position = currentProjected + offset;
  #endif
    
  #ifdef IS_BRUSH
    gl_Position = vec4(aPos, 1.);
  #endif
  }
  </script>
  <script type="text/plain" id="rgl-fragment-shader">
  #line 2 2
  // File 2 is the fragment shader
  #ifdef GL_ES
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
  #else
  precision mediump float;
  #endif
  #endif
  varying vec4 vCol; // carries alpha
  varying vec4 vPosition;
  #if defined(HAS_TEXTURE) || defined (IS_TEXT)
  varying vec2 vTexcoord;
  uniform sampler2D uSampler;
  #endif

  #ifdef HAS_FOG
  uniform int uFogMode;
  uniform vec3 uFogColor;
  uniform vec4 uFogParms;
  #endif

  #if defined(IS_LIT) && !defined(FIXED_QUADS)
  varying vec4 vNormal;
  #endif

  #if NCLIPPLANES > 0
  uniform vec4 vClipplane[NCLIPPLANES];
  #endif

  #if NLIGHTS > 0
  uniform mat4 mvMatrix;
  #endif

  #ifdef IS_LIT
  uniform vec3 emission;
  uniform float shininess;
  #if NLIGHTS > 0
  uniform vec3 ambient[NLIGHTS];
  uniform vec3 specular[NLIGHTS]; // light*material
  uniform vec3 diffuse[NLIGHTS];
  uniform vec3 lightDir[NLIGHTS];
  uniform bool viewpoint[NLIGHTS];
  uniform bool finite[NLIGHTS];
  #endif
  #endif // IS_LIT

  #ifdef IS_TWOSIDED
  uniform bool front;
  varying float normz;
  #endif

  #ifdef FAT_LINES
  varying vec2 vPoint;
  varying float vLength;
  #endif

  void main(void) {
    vec4 fragColor;
  #ifdef FAT_LINES
    vec2 point = vPoint;
    bool neg = point.y < 0.0;
    point.y = neg ? (point.y + vLength)/(1.0 - vLength) :
                   -(point.y - vLength)/(1.0 - vLength);
  #if defined(IS_TRANSPARENT) && defined(IS_LINESTRIP)
    if (neg && length(point) <= 1.0) discard;
  #endif
    point.y = min(point.y, 0.0);
    if (length(point) > 1.0) discard;
  #endif // FAT_LINES
    
  #ifdef ROUND_POINTS
    vec2 coord = gl_PointCoord - vec2(0.5);
    if (length(coord) > 0.5) discard;
  #endif
    
  #if NCLIPPLANES > 0
    for (int i = 0; i < NCLIPPLANES; i++)
      if (dot(vPosition, vClipplane[i]) < 0.0) discard;
  #endif
      
  #ifdef FIXED_QUADS
      vec3 n = vec3(0., 0., 1.);
  #elif defined(IS_LIT)
      vec3 n = normalize(vNormal.xyz);
  #endif
      
  #ifdef IS_TWOSIDED
      if ((normz <= 0.) != front) discard;
  #endif
      
  #ifdef IS_LIT
      vec3 eye = normalize(-vPosition.xyz/vPosition.w);
      vec3 lightdir;
      vec4 colDiff;
      vec3 halfVec;
      vec4 lighteffect = vec4(emission, 0.);
      vec3 col;
      float nDotL;
  #ifdef FIXED_QUADS
      n = -faceforward(n, n, eye);
  #endif
      
  #if NLIGHTS > 0
      for (int i=0;i<NLIGHTS;i++) {
        colDiff = vec4(vCol.rgb * diffuse[i], vCol.a);
        lightdir = lightDir[i];
        if (!viewpoint[i])
          lightdir = (mvMatrix * vec4(lightdir, 1.)).xyz;
        if (!finite[i]) {
          halfVec = normalize(lightdir + eye);
        } else {
          lightdir = normalize(lightdir - vPosition.xyz/vPosition.w);
          halfVec = normalize(lightdir + eye);
        }
        col = ambient[i];
        nDotL = dot(n, lightdir);
        col = col + max(nDotL, 0.) * colDiff.rgb;
        col = col + pow(max(dot(halfVec, n), 0.), shininess) * specular[i];
        lighteffect = lighteffect + vec4(col, colDiff.a);
      }
  #endif
      
  #else // not IS_LIT
      vec4 colDiff = vCol;
      vec4 lighteffect = colDiff;
  #endif
      
  #ifdef IS_TEXT
      vec4 textureColor = lighteffect*texture2D(uSampler, vTexcoord);
  #endif
      
  #ifdef HAS_TEXTURE
  #ifdef TEXTURE_rgb
      vec4 textureColor = lighteffect*vec4(texture2D(uSampler, vTexcoord).rgb, 1.);
  #endif
      
  #ifdef TEXTURE_rgba
      vec4 textureColor = lighteffect*texture2D(uSampler, vTexcoord);
  #endif
      
  #ifdef TEXTURE_alpha
      vec4 textureColor = texture2D(uSampler, vTexcoord);
      float luminance = dot(vec3(1.,1.,1.), textureColor.rgb)/3.;
      textureColor =  vec4(lighteffect.rgb, lighteffect.a*luminance);
  #endif
      
  #ifdef TEXTURE_luminance
      vec4 textureColor = vec4(lighteffect.rgb*dot(texture2D(uSampler, vTexcoord).rgb, vec3(1.,1.,1.))/3., lighteffect.a);
  #endif
      
  #ifdef TEXTURE_luminance_alpha
      vec4 textureColor = texture2D(uSampler, vTexcoord);
      float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;
      textureColor = vec4(lighteffect.rgb*luminance, lighteffect.a*textureColor.a);
  #endif
      
      fragColor = textureColor;

  #elif defined(IS_TEXT)
      if (textureColor.a < 0.1)
        discard;
      else
        fragColor = textureColor;
  #else
      fragColor = lighteffect;
  #endif // HAS_TEXTURE
      
  #ifdef HAS_FOG
      // uFogParms elements: x = near, y = far, z = fogscale, w = (1-sin(FOV/2))/(1+sin(FOV/2))
      // In Exp and Exp2: use density = density/far
      // fogF will be the proportion of fog
      // Initialize it to the linear value
      float fogF;
      if (uFogMode > 0) {
        fogF = (uFogParms.y - vPosition.z/vPosition.w)/(uFogParms.y - uFogParms.x);
        if (uFogMode > 1)
          fogF = mix(uFogParms.w, 1.0, fogF);
        fogF = fogF*uFogParms.z;
        if (uFogMode == 2)
          fogF = 1.0 - exp(-fogF);
        // Docs are wrong: use (density*c)^2, not density*c^2
        // https://gitlab.freedesktop.org/mesa/mesa/-/blob/master/src/mesa/swrast/s_fog.c#L58
        else if (uFogMode == 3)
          fogF = 1.0 - exp(-fogF*fogF);
        fogF = clamp(fogF, 0.0, 1.0);
        gl_FragColor = vec4(mix(fragColor.rgb, uFogColor, fogF), fragColor.a);
      } else gl_FragColor = fragColor;
  #else
      gl_FragColor = fragColor;
  #endif // HAS_FOG
      
  }
  </script><!--/html_preserve-->
  <script src="talk2_files/libs/CanvasMatrix4-0.110.2/CanvasMatrix.min.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Planted Machine Learning</h1>
  <p class="subtitle">Letting accuracy and interpretability go hand in hand</p>
  <p class="author">Munir Hiabu</p>
</section>

<section id="section" class="slide level2">
<h2></h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">

<style type="text/css">
.reveal section p {
    font-size: 0.5em;
}

.reveal section ul {
    font-size: 0.5em;
}
.reveal section table {
    font-size: 0.5em;
}

.reveal section pre code {
    font-size: 0.5em;
}
</style>
</div>
</div>
</div>
<div class="cell">
<style type="text/css">
.small_title,
.small_title  h2 {
  color: red;
  font-size: 100px;
}
</style>
</div>

<img src="images/acc-perf3.png" alt="telematics" style="width:500px;" class="r-stretch"><div class="footer">
<p><span style="color:#3477eb">Motivation</span> <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
<!-- ## Accuracy vs Interpretability  {auto-animate="true"} -->
<!-- ::: {style="margin-top: 0px; font-size: 3em; color: red;"} -->
<!-- <img src="images/acc-perf4.png" alt="telematics" style="width:800px;"/> -->
<!-- ::: -->
</section>
<section id="accuracy-vs-interpretability" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Accuracy vs Interpretability</h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="columns">
<div class="column" style="width:50%;">
<p>General Conception</p>
<p><img src="images/acc-perf4.png" alt="telematics" style="width:1000px;"></p>
</div><div class="column fragment" style="width:50%;">
<p><span style="color:#3477eb">Conjecture: </span> Interpretability can boost accuracy <img src="images/acc-perf99.png" alt="telematics" style="width:1000px;"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<div class="quarto-layout-panel" style="font-size: 3em; text-align: center">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><span style="font-size: 3.5em">1</span> The curse of dimensionality</p>
</div>
</div>
</div>
</section>
<section id="the-curse-of-dimensionality-an-example" class="slide level2 scrollable">
<h2>The curse of dimensionality <span style="font-size: 0.7em; color: grey">an example</span></h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="panel-tabset quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><span style="font-size: 1em">(1) dim=1</span></a></li><li><a href="#tabset-1-2"><span style="font-size: 1em">(2) dim=2</span></a></li><li><a href="#tabset-1-3"><span style="font-size: 1em">(3) dim-3</span></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="columns">
<div class="column" style="width:70%;">
<p>We first generate 100 observations of the <span class="math inline">\(x_1\)</span> variable which is uniformly distributed on [0,10].</p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="talk2_files/figure-revealjs/unnamed-chunk-3-1.png" width="960"></p>
</div>
</div>
<p>A total of <span style="color: #3477eb;">37</span> observations are within a distance of 2 units from the middle point 5</p>
</div><div class="column" style="width:50%;">

</div>
</div>
</div>
<div id="tabset-1-2">
<div class="columns">
<div class="column" style="width:70%;">
<p>We generate <span class="math inline">\(x_2\)</span> independent of <span class="math inline">\(x_1\)</span> and uniformly distributed on <span class="math inline">\([0,10]\)</span>.</p>
<div class="cell" data-webgl="true">
<div class="cell-output-display">
<p><img data-src="talk2_files/figure-revealjs/unnamed-chunk-4-1.png" width="288"></p>
</div>
</div>
<p>We find <span style="color: #3477eb;">13</span> observations within a distance of 2 units from the middle point (5,5).</p>
</div><div class="column" style="width:50%;">

</div>
</div>
</div>
<div id="tabset-1-3">
<div class="columns">
<div class="column" style="width:70%;">
<p>The <span class="math inline">\(x_3\)</span> variable is independent of <span class="math inline">\((x_1,x_2)\)</span> and uniformly distributed on <span class="math inline">\([0,10]\)</span>.</p>
<div class="cell">
<div class="cell-output-display no-overflow-x">
<div id="rgl42449" style="width:300px;height:300px;" class="rglWebGL html-widget"></div>
<script type="application/json" data-for="rgl42449">{"x":{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":true,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less","isTransparent":false,"polygon_offset":[0,0],"margin":"","floating":false,"tag":"","blend":["src_alpha","one_minus_src_alpha"]},"rootSubscene":7,"objects":{"16":{"id":16,"type":"spheres","material":{},"vertices":"0","colors":"1","radii":[[0.0149999996647239]],"centers":"2","ignoreExtent":false,"fastTransparency":true,"flags":32771},"17":{"id":17,"type":"lines","material":{"lit":false},"vertices":"3","colors":"4","centers":"5","ignoreExtent":false,"flags":32832},"18":{"id":18,"type":"lines","material":{"lit":false},"vertices":"6","colors":"7","centers":"8","ignoreExtent":false,"flags":32832},"19":{"id":19,"type":"lines","material":{"lit":false},"vertices":"9","colors":"10","centers":"11","ignoreExtent":false,"flags":32832},"20":{"id":20,"type":"text","material":{"lit":false},"vertices":"12","colors":"13","texts":[["x_1"]],"cex":[[1]],"adj":[[1,0.5,0.5]],"centers":"14","family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":33808},"21":{"id":21,"type":"text","material":{"lit":false},"vertices":"15","colors":"16","texts":[["x_2"]],"cex":[[1]],"adj":[[1,0.5,0.5]],"centers":"17","family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":33808},"22":{"id":22,"type":"text","material":{"lit":false},"vertices":"18","colors":"19","texts":[["x_3"]],"cex":[[1]],"adj":[[1,0.5,0.5]],"centers":"20","family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":33808},"23":{"id":23,"type":"spheres","material":{"alpha":0.0980392172932625,"isTransparent":true},"vertices":"21","colors":"22","radii":[[0.200000002980232]],"centers":"23","ignoreExtent":false,"fastTransparency":true,"flags":32811},"11":{"id":11,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"10":{"id":10,"type":"background","material":{},"colors":"24","centers":"25","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"12":{"id":12,"type":"background","material":{"lit":false,"back":"lines"},"colors":"26","centers":"27","sphere":false,"fogtype":"none","fogscale":1,"flags":32768},"15":{"id":15,"type":"background","material":{"back":"lines"},"colors":"28","centers":"29","sphere":false,"fogtype":"exp2","fogscale":1,"flags":32768},"7":{"id":7,"type":"subscene","par3d":{"antialias":4,"FOV":60,"ignoreExtent":false,"listeners":7,"mouseMode":{"none":"none","left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,1.80444586277008],"modelMatrix":[[1,0,0,-0.5],[0,0.965925812721252,-0.258819043636322,-0.370457082986832],[0,0.258819043636322,0.965925812721252,-2.42134761810303],[0,0,0,1]],"projMatrix":[[1.73205089569092,0,0,0],[0,1.73205089569092,0,0],[0,0,-1.99999988079071,-2.70666861534119],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.965925812721252,-0.258819043636322,0],[0,0.258819043636322,0.965925812721252,0],[0,0,0,1]],"userProjection":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[-0.0149999996647239,1.01499998569489,-0.0149999996647239,1.04999995231628,-0.0149999996647239,1.01499998569489],"windowRect":[0,45,256,301],"family":"sans","font":1,"cex":1,"useFreeType":true,"fontname":"/Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/library/rgl/fonts/FreeSans.ttf","maxClipPlanes":6,"glVersion":2.1,"activeSubscene":0},"embeddings":{"viewport":"replace","projection":"replace","model":"replace","mouse":"replace"},"objects":[15,16,17,18,19,20,21,22,23,11],"subscenes":[],"flags":34171}},"crosstalk":{"key":[],"group":[],"id":[],"options":[]},"width":300,"height":300,"buffer":{"accessors":[{"bufferView":0,"componentType":5126,"count":100,"type":"VEC3"},{"bufferView":1,"componentType":5121,"count":100,"type":"VEC4","normalized":true},{"bufferView":2,"componentType":5126,"count":100,"type":"VEC3"},{"bufferView":3,"componentType":5121,"count":2,"type":"VEC3"},{"bufferView":4,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":5,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":6,"componentType":5121,"count":2,"type":"VEC3"},{"bufferView":7,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":8,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":9,"componentType":5121,"count":2,"type":"VEC3"},{"bufferView":10,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":11,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":12,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":13,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":14,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":15,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":16,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":17,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":18,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":19,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":20,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":21,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":22,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":23,"componentType":5126,"count":1,"type":"VEC3"},{"bufferView":24,"componentType":5126,"count":1,"type":"VEC4"},{"bufferView":25,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":26,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":27,"componentType":5121,"count":1,"type":"VEC3"},{"bufferView":28,"componentType":5121,"count":1,"type":"VEC4"},{"bufferView":29,"componentType":5121,"count":1,"type":"VEC3"}],"bufferViews":[{"buffer":0,"byteLength":1200,"byteOffset":0},{"buffer":0,"byteLength":400,"byteOffset":1200},{"buffer":0,"byteLength":1200,"byteOffset":1600},{"buffer":0,"byteLength":6,"byteOffset":2800},{"buffer":0,"byteLength":4,"byteOffset":2806},{"buffer":0,"byteLength":12,"byteOffset":2812},{"buffer":0,"byteLength":6,"byteOffset":2824},{"buffer":0,"byteLength":4,"byteOffset":2830},{"buffer":0,"byteLength":12,"byteOffset":2836},{"buffer":0,"byteLength":6,"byteOffset":2848},{"buffer":0,"byteLength":4,"byteOffset":2854},{"buffer":0,"byteLength":12,"byteOffset":2860},{"buffer":0,"byteLength":3,"byteOffset":2872},{"buffer":0,"byteLength":4,"byteOffset":2875},{"buffer":0,"byteLength":3,"byteOffset":2879},{"buffer":0,"byteLength":12,"byteOffset":2884},{"buffer":0,"byteLength":4,"byteOffset":2896},{"buffer":0,"byteLength":12,"byteOffset":2900},{"buffer":0,"byteLength":3,"byteOffset":2912},{"buffer":0,"byteLength":4,"byteOffset":2915},{"buffer":0,"byteLength":3,"byteOffset":2919},{"buffer":0,"byteLength":12,"byteOffset":2924},{"buffer":0,"byteLength":16,"byteOffset":2936},{"buffer":0,"byteLength":12,"byteOffset":2952},{"buffer":0,"byteLength":16,"byteOffset":2964},{"buffer":0,"byteLength":3,"byteOffset":2980},{"buffer":0,"byteLength":4,"byteOffset":2983},{"buffer":0,"byteLength":3,"byteOffset":2987},{"buffer":0,"byteLength":4,"byteOffset":2990},{"buffer":0,"byteLength":3,"byteOffset":2994}],"buffers":[{"byteLength":2997,"bytes":"tvkQP0hRQT9mUpM++8QbP5UiFT+AHOQ+gWJZP2kiFD8yN/Q+B3jMPkvMiz6OUBQ/DdZ9PYDA\nGD9nIyQ/1bNUP9KNgj1QINA+eKGOPsOecz+ZJA8/cJx9PbU4az8CBC8/LpKWPWe5cz7mQYE+\np7FYPpzDZj84Y1A+rn10P8+GFD7Vy6I+//E5PXRIkT70v0Q/J7m3PjqHOj+fyJU+dduhPq8R\njj3Bu3s/qCRIPkaLcz/yz2Q/k1CwPqbGAz/2z0c+w+N8Py1MDT+abUM/Rj0NP8RQtz6++dA+\nvPMLPtF80z7OyBw8twhuP6xvEj9+q7c+/KYfP0X1KT4AAAAA41BmP65ZiD4DnhA/Odm9PvrS\nDT9YYow+AACAPyp5Dz3tQ8s+3XCUPjghlD6JfDw+wFTMPmHeIT+FEvM+wSOTPkUtPj8Y9m4+\nZw63PrJ0Yj/pNwM/bZ4pPQAAAAAdtQU/8gVVP8TbOj5p8Z4+wnJGP8aSUz+fqjM+ptxQP3Fp\nGz/Qk2k/QYVtPxFIFT7ntAU/jAeePezK/j5QQqY+YVmUPr2IQD+UXwA/M5FjP8+wbz/qdjc/\nHoG2PoeroT2/5kI/LItBPt5I+D4p1z4/1YMJP2b8Az9pwJo9blTvPDkVpjtvNKc8LzbePkcr\nIj8n0pM+fQpjPchIMz9bEQk92GXDPiQX7D7/kHM/feT9PhfnKj88V0c/wXGqPU6iOT91R0E/\nJD79Poz/oj0AAIA/opHuPhKVOT/S4Qc/78u6PhvaFj9dxR4+11hVP13xlz75E1Y/8fkjP0WS\n3T7qoCM/jdXeO0URFD8LX1A+5uKOPQ+lFT8uzyI/WoJ8P5Hgsz6auAQ/MYGdPkwVID9tgJ4+\nk3kYP4SPST4JQnc/by2gPgAAgD9ukh4/BqVUPp9s7D4hjAw/Ba18Pyijcj9iJmI/N2xsPzst\nTT9eGq0+YlPNPTpObj9Hbv0+OcotPw2Naj/9mx0/MMspPvKzkD49GUE/6iYGPuN7pz57Bng/\nFYcmP/QVez9WUzE/BU4QP+3CCz5sNAY/rWdOP0pzTT50Yjs9h9oEPuMndj/flYs+DLQZPxQH\nUT815gc/R9L1PmgjET//t6A+paFBPdvBXD9tMO89ybx/PHdnLz/ZhNM+dVbiPGzvRz5OVus9\nzk+8PpP7yj5VH08+vYS8PuSI4j0xahg/UlE5PvcGtT4I0LM+d4FEP1AHLj+SD3s8rKc5Ozk7\nXj+25RA/AAAAAGN9tD4axLM98aZTP6fC9z6Hc2k/LipaPRUigT6dGJg+gIAbPzUwdD+x4Q4+\nsE9SPgVXrDx0Cz09xIiBPWebMz+uiAY/IMjBPhG5iT7eoFw9yFf5PsT8iD58Cx0/B5F+PxJ1\nMD/dNg88eodFP428VD7gDR8+rZNTP9EGMT8ej5g+2it2PZ0bET//GQI/9HISP5jmTz/o6Tw+\nwo5pP1vWcj6cqOo+uYWfPT68dz9vrmQ/p+tDPicSVD/AKLg9a5U1PxfmDD9lY04/dZERPlel\ntD5h5nM/ntMsPmxMTT7Poac+Zm4wP4R/fz65NxY9mGKvPgtTNj+o4NQ+IvI0PYbhVT80GNc+\nR9AVPtY1FD9doQ8/AAAA/zR36/8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAA\nAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP80d+v/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/\nAAAA/zR36/8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAA\nAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/zR36/8AAAD/\nAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAA\nAP8AAAD/AAAA/wAAAP80d+v/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/\nAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAA\nAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/7b5ED9IUUE/ZlKTPvvEGz+VIhU/\ngBzkPoFiWT9pIhQ/Mjf0Pgd4zD5LzIs+jlAUPw3WfT2AwBg/ZyMkP9WzVD/SjYI9UCDQPnih\njj7DnnM/mSQPP3CcfT21OGs/AgQvPy6Slj1nuXM+5kGBPqexWD6cw2Y/OGNQPq59dD/PhhQ+\n1cuiPv/xOT10SJE+9L9EPye5tz46hzo/n8iVPnXboT6vEY49wbt7P6gkSD5Gi3M/8s9kP5NQ\nsD6mxgM/9s9HPsPjfD8tTA0/mm1DP0Y9DT/EULc+vvnQPrzzCz7RfNM+zsgcPLcIbj+sbxI/\nfqu3PvymHz9F9Sk+AAAAAONQZj+uWYg+A54QPznZvT760g0/WGKMPgAAgD8qeQ897UPLPt1w\nlD44IZQ+iXw8PsBUzD5h3iE/hRLzPsEjkz5FLT4/GPZuPmcOtz6ydGI/6TcDP22eKT0AAAAA\nHbUFP/IFVT/E2zo+afGePsJyRj/GklM/n6ozPqbcUD9xaRs/0JNpP0GFbT8RSBU+57QFP4wH\nnj3syv4+UEKmPmFZlD69iEA/lF8APzORYz/PsG8/6nY3Px6Btj6Hq6E9v+ZCPyyLQT7eSPg+\nKdc+P9WDCT9m/AM/acCaPW5U7zw5FaY7bzSnPC823j5HKyI/J9KTPn0KYz3ISDM/WxEJPdhl\nwz4kF+w+/5BzP33k/T4X5yo/PFdHP8Fxqj1Oojk/dUdBPyQ+/T6M/6I9AACAP6KR7j4SlTk/\n0uEHP+/Luj4b2hY/XcUePtdYVT9d8Zc++RNWP/H5Iz9Fkt0+6qAjP43V3jtFERQ/C19QPubi\njj0PpRU/Ls8iP1qCfD+R4LM+mrgEPzGBnT5MFSA/bYCePpN5GD+Ej0k+CUJ3P28toD4AAIA/\nbpIePwalVD6fbOw+IYwMPwWtfD8oo3I/YiZiPzdsbD87LU0/XhqtPmJTzT06Tm4/R279PjnK\nLT8NjWo//ZsdPzDLKT7ys5A+PRlBP+omBj7je6c+ewZ4PxWHJj/0FXs/VlMxPwVOED/twgs+\nbDQGP61nTj9Kc00+dGI7PYfaBD7jJ3Y/35WLPgy0GT8UB1E/NeYHP0fS9T5oIxE//7egPqWh\nQT3bwVw/bTDvPcm8fzx3Zy8/2YTTPnVW4jxs70c+TlbrPc5PvD6T+8o+VR9PPr2EvD7kiOI9\nMWoYP1JROT73BrU+CNCzPneBRD9QBy4/kg97PKynOTs5O14/tuUQPwAAAABjfbQ+GsSzPfGm\nUz+nwvc+h3NpPy4qWj0VIoE+nRiYPoCAGz81MHQ/seEOPrBPUj4FV6w8dAs9PcSIgT1nmzM/\nrogGPyDIwT4RuYk+3qBcPchX+T7E/Ig+fAsdPweRfj8SdTA/3TYPPHqHRT+NvFQ+4A0fPq2T\nUz/RBjE/Ho+YPtordj2dGxE//xkCP/RyEj+Y5k8/6Ok8PsKOaT9b1nI+nKjqPrmFnz0+vHc/\nb65kP6frQz4nElQ/wCi4PWuVNT8X5gw/ZWNOP3WRET5XpbQ+YeZzP57TLD5sTE0+z6GnPmZu\nMD+Ef38+uTcWPZhirz4LUzY/qODUPiLyND2G4VU/NBjXPkfQFT7WNRQ/XaEPPwAAAAEAAAAA\nAAEAAAAAAD8AAAAAAAAAAAAAAAABAAAAAAEAAAAAAAAAAAA/AAAAAAAAAAAAAQAAAAEAAAAA\nAAAAAAAAAAAAPwEAAAAAAAEBAAAAAAAAAABmZoY/AAAAAAAAAAEAAAAAZmaGPwAAAAAAAAEA\nAAABAAABAAAAAAA/AAAAPwAAAD8AAAAAAAAAAAAAAADJyMg9AAAAPwAAAD8AAAA/mZiYPpmY\nmD6ZmJg+AACAPwAAAAEBAQEAAAABAQEBAAAA"}]},"context":{"shiny":false,"rmarkdown":null},"vertexShader":"#line 2 1\n// File 1 is the vertex shader\n#ifdef GL_ES\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#endif\n\nattribute vec3 aPos;\nattribute vec4 aCol;\nuniform mat4 mvMatrix;\nuniform mat4 prMatrix;\nvarying vec4 vCol;\nvarying vec4 vPosition;\n\n#ifdef NEEDS_VNORMAL\nattribute vec3 aNorm;\nuniform mat4 normMatrix;\nvarying vec4 vNormal;\n#endif\n\n#if defined(HAS_TEXTURE) || defined (IS_TEXT)\nattribute vec2 aTexcoord;\nvarying vec2 vTexcoord;\n#endif\n\n#ifdef FIXED_SIZE\nuniform vec3 textScale;\n#endif\n\n#ifdef FIXED_QUADS\nattribute vec3 aOfs;\n#endif\n\n#ifdef IS_TWOSIDED\n#ifdef HAS_NORMALS\nvarying float normz;\nuniform mat4 invPrMatrix;\n#else\nattribute vec3 aPos1;\nattribute vec3 aPos2;\nvarying float normz;\n#endif\n#endif // IS_TWOSIDED\n\n#ifdef FAT_LINES\nattribute vec3 aNext;\nattribute vec2 aPoint;\nvarying vec2 vPoint;\nvarying float vLength;\nuniform float uAspect;\nuniform float uLwd;\n#endif\n\n\nvoid main(void) {\n  \n#ifndef IS_BRUSH\n#if defined(NCLIPPLANES) || !defined(FIXED_QUADS) || defined(HAS_FOG)\n  vPosition = mvMatrix * vec4(aPos, 1.);\n#endif\n  \n#ifndef FIXED_QUADS\n  gl_Position = prMatrix * vPosition;\n#endif\n#endif // !IS_BRUSH\n  \n#ifdef IS_POINTS\n  gl_PointSize = POINTSIZE;\n#endif\n  \n  vCol = aCol;\n  \n#ifdef NEEDS_VNORMAL\n  vNormal = normMatrix * vec4(-aNorm, dot(aNorm, aPos));\n#endif\n  \n#ifdef IS_TWOSIDED\n#ifdef HAS_NORMALS\n  /* normz should be calculated *after* projection */\n  normz = (invPrMatrix*vNormal).z;\n#else\n  vec4 pos1 = prMatrix*(mvMatrix*vec4(aPos1, 1.));\n  pos1 = pos1/pos1.w - gl_Position/gl_Position.w;\n  vec4 pos2 = prMatrix*(mvMatrix*vec4(aPos2, 1.));\n  pos2 = pos2/pos2.w - gl_Position/gl_Position.w;\n  normz = pos1.x*pos2.y - pos1.y*pos2.x;\n#endif\n#endif // IS_TWOSIDED\n  \n#ifdef NEEDS_VNORMAL\n  vNormal = vec4(normalize(vNormal.xyz/vNormal.w), 1);\n#endif\n  \n#if defined(HAS_TEXTURE) || defined(IS_TEXT)\n  vTexcoord = aTexcoord;\n#endif\n  \n#if defined(FIXED_SIZE) && !defined(ROTATING)\n  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);\n  pos = pos/pos.w;\n  gl_Position = pos + vec4(aOfs*textScale, 0.);\n#endif\n  \n#if defined(IS_SPRITES) && !defined(FIXED_SIZE)\n  vec4 pos = mvMatrix * vec4(aPos, 1.);\n  pos = pos/pos.w + vec4(aOfs,  0.);\n  gl_Position = prMatrix*pos;\n#endif\n  \n#ifdef FAT_LINES\n  /* This code was inspired by Matt Deslauriers' code in \n   https://mattdesl.svbtle.com/drawing-lines-is-hard */\n  vec2 aspectVec = vec2(uAspect, 1.0);\n  mat4 projViewModel = prMatrix * mvMatrix;\n  vec4 currentProjected = projViewModel * vec4(aPos, 1.0);\n  currentProjected = currentProjected/currentProjected.w;\n  vec4 nextProjected = projViewModel * vec4(aNext, 1.0);\n  vec2 currentScreen = currentProjected.xy * aspectVec;\n  vec2 nextScreen = (nextProjected.xy / nextProjected.w) * aspectVec;\n  float len = uLwd;\n  vec2 dir = vec2(1.0, 0.0);\n  vPoint = aPoint;\n  vLength = length(nextScreen - currentScreen)/2.0;\n  vLength = vLength/(vLength + len);\n  if (vLength > 0.0) {\n    dir = normalize(nextScreen - currentScreen);\n  }\n  vec2 normal = vec2(-dir.y, dir.x);\n  dir.x /= uAspect;\n  normal.x /= uAspect;\n  vec4 offset = vec4(len*(normal*aPoint.x*aPoint.y - dir), 0.0, 0.0);\n  gl_Position = currentProjected + offset;\n#endif\n  \n#ifdef IS_BRUSH\n  gl_Position = vec4(aPos, 1.);\n#endif\n}","fragmentShader":"#line 2 2\n// File 2 is the fragment shader\n#ifdef GL_ES\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#endif\nvarying vec4 vCol; // carries alpha\nvarying vec4 vPosition;\n#if defined(HAS_TEXTURE) || defined (IS_TEXT)\nvarying vec2 vTexcoord;\nuniform sampler2D uSampler;\n#endif\n\n#ifdef HAS_FOG\nuniform int uFogMode;\nuniform vec3 uFogColor;\nuniform vec4 uFogParms;\n#endif\n\n#if defined(IS_LIT) && !defined(FIXED_QUADS)\nvarying vec4 vNormal;\n#endif\n\n#if NCLIPPLANES > 0\nuniform vec4 vClipplane[NCLIPPLANES];\n#endif\n\n#if NLIGHTS > 0\nuniform mat4 mvMatrix;\n#endif\n\n#ifdef IS_LIT\nuniform vec3 emission;\nuniform float shininess;\n#if NLIGHTS > 0\nuniform vec3 ambient[NLIGHTS];\nuniform vec3 specular[NLIGHTS]; // light*material\nuniform vec3 diffuse[NLIGHTS];\nuniform vec3 lightDir[NLIGHTS];\nuniform bool viewpoint[NLIGHTS];\nuniform bool finite[NLIGHTS];\n#endif\n#endif // IS_LIT\n\n#ifdef IS_TWOSIDED\nuniform bool front;\nvarying float normz;\n#endif\n\n#ifdef FAT_LINES\nvarying vec2 vPoint;\nvarying float vLength;\n#endif\n\nvoid main(void) {\n  vec4 fragColor;\n#ifdef FAT_LINES\n  vec2 point = vPoint;\n  bool neg = point.y < 0.0;\n  point.y = neg ? (point.y + vLength)/(1.0 - vLength) :\n                 -(point.y - vLength)/(1.0 - vLength);\n#if defined(IS_TRANSPARENT) && defined(IS_LINESTRIP)\n  if (neg && length(point) <= 1.0) discard;\n#endif\n  point.y = min(point.y, 0.0);\n  if (length(point) > 1.0) discard;\n#endif // FAT_LINES\n  \n#ifdef ROUND_POINTS\n  vec2 coord = gl_PointCoord - vec2(0.5);\n  if (length(coord) > 0.5) discard;\n#endif\n  \n#if NCLIPPLANES > 0\n  for (int i = 0; i < NCLIPPLANES; i++)\n    if (dot(vPosition, vClipplane[i]) < 0.0) discard;\n#endif\n    \n#ifdef FIXED_QUADS\n    vec3 n = vec3(0., 0., 1.);\n#elif defined(IS_LIT)\n    vec3 n = normalize(vNormal.xyz);\n#endif\n    \n#ifdef IS_TWOSIDED\n    if ((normz <= 0.) != front) discard;\n#endif\n    \n#ifdef IS_LIT\n    vec3 eye = normalize(-vPosition.xyz/vPosition.w);\n    vec3 lightdir;\n    vec4 colDiff;\n    vec3 halfVec;\n    vec4 lighteffect = vec4(emission, 0.);\n    vec3 col;\n    float nDotL;\n#ifdef FIXED_QUADS\n    n = -faceforward(n, n, eye);\n#endif\n    \n#if NLIGHTS > 0\n    for (int i=0;i<NLIGHTS;i++) {\n      colDiff = vec4(vCol.rgb * diffuse[i], vCol.a);\n      lightdir = lightDir[i];\n      if (!viewpoint[i])\n        lightdir = (mvMatrix * vec4(lightdir, 1.)).xyz;\n      if (!finite[i]) {\n        halfVec = normalize(lightdir + eye);\n      } else {\n        lightdir = normalize(lightdir - vPosition.xyz/vPosition.w);\n        halfVec = normalize(lightdir + eye);\n      }\n      col = ambient[i];\n      nDotL = dot(n, lightdir);\n      col = col + max(nDotL, 0.) * colDiff.rgb;\n      col = col + pow(max(dot(halfVec, n), 0.), shininess) * specular[i];\n      lighteffect = lighteffect + vec4(col, colDiff.a);\n    }\n#endif\n    \n#else // not IS_LIT\n    vec4 colDiff = vCol;\n    vec4 lighteffect = colDiff;\n#endif\n    \n#ifdef IS_TEXT\n    vec4 textureColor = lighteffect*texture2D(uSampler, vTexcoord);\n#endif\n    \n#ifdef HAS_TEXTURE\n#ifdef TEXTURE_rgb\n    vec4 textureColor = lighteffect*vec4(texture2D(uSampler, vTexcoord).rgb, 1.);\n#endif\n    \n#ifdef TEXTURE_rgba\n    vec4 textureColor = lighteffect*texture2D(uSampler, vTexcoord);\n#endif\n    \n#ifdef TEXTURE_alpha\n    vec4 textureColor = texture2D(uSampler, vTexcoord);\n    float luminance = dot(vec3(1.,1.,1.), textureColor.rgb)/3.;\n    textureColor =  vec4(lighteffect.rgb, lighteffect.a*luminance);\n#endif\n    \n#ifdef TEXTURE_luminance\n    vec4 textureColor = vec4(lighteffect.rgb*dot(texture2D(uSampler, vTexcoord).rgb, vec3(1.,1.,1.))/3., lighteffect.a);\n#endif\n    \n#ifdef TEXTURE_luminance_alpha\n    vec4 textureColor = texture2D(uSampler, vTexcoord);\n    float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;\n    textureColor = vec4(lighteffect.rgb*luminance, lighteffect.a*textureColor.a);\n#endif\n    \n    fragColor = textureColor;\n\n#elif defined(IS_TEXT)\n    if (textureColor.a < 0.1)\n      discard;\n    else\n      fragColor = textureColor;\n#else\n    fragColor = lighteffect;\n#endif // HAS_TEXTURE\n    \n#ifdef HAS_FOG\n    // uFogParms elements: x = near, y = far, z = fogscale, w = (1-sin(FOV/2))/(1+sin(FOV/2))\n    // In Exp and Exp2: use density = density/far\n    // fogF will be the proportion of fog\n    // Initialize it to the linear value\n    float fogF;\n    if (uFogMode > 0) {\n      fogF = (uFogParms.y - vPosition.z/vPosition.w)/(uFogParms.y - uFogParms.x);\n      if (uFogMode > 1)\n        fogF = mix(uFogParms.w, 1.0, fogF);\n      fogF = fogF*uFogParms.z;\n      if (uFogMode == 2)\n        fogF = 1.0 - exp(-fogF);\n      // Docs are wrong: use (density*c)^2, not density*c^2\n      // https://gitlab.freedesktop.org/mesa/mesa/-/blob/master/src/mesa/swrast/s_fog.c#L58\n      else if (uFogMode == 3)\n        fogF = 1.0 - exp(-fogF*fogF);\n      fogF = clamp(fogF, 0.0, 1.0);\n      gl_FragColor = vec4(mix(fragColor.rgb, uFogColor, fogF), fragColor.a);\n    } else gl_FragColor = fragColor;\n#else\n    gl_FragColor = fragColor;\n#endif // HAS_FOG\n    \n}","players":[],"webGLoptions":{"preserveDrawingBuffer":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Only a total of <span style="color: #3477eb;">5</span> observation(s) fall within a distance of 2 units from the middle point (5,5,5).</p>
</div><div class="column" style="width:70%;">

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="footer">
<p><span style="color:#3477eb">The curse of dimensionality</span> <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="the-curse-of-dimensionality-implication" class="slide level2">
<h2>The curse of dimensionality <span style="font-size: 0.7em; color: grey">Implication</span></h2>
<div class="quarto-layout-panel" style="font-size:1.2em">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<ul>
<li class="fragment">Prediction: A new observation <span style="color:#3477eb"><span class="math inline">\(x_0\)</span></span> will have very few or no observations in its neighborhood
<ul>
<li class="fragment"><span style="font-size: 1.5em">This leads to high variance</span></li>
<li class="fragment"><span style="font-size: 1.5em">and high bias when increasing the size of the neighborhood</span></li>
</ul></li>
<li class="fragment">The setting <span style="color:#3477eb"><span class="math inline">\(n=50, d=1\)</span></span> has the same expected amount of observations in a neighbourhood as the setting <span style="color:#3477eb"><span class="math inline">\(n=7.5\times10^{110}, d=100\)</span></span>. <br> (n= sample size, d=dimension)</li>
</ul>
</div>
</div>
</div>
<div class="footer">
<p><span style="color:#3477eb">The curse of dimensionality</span> <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="the-curse-of-dimensionality-solutions" class="slide level2">
<h2>The curse of dimensionality <span style="font-size: 0.7em; color: grey">Solutions</span></h2>
<div class="quarto-layout-panel" style="font-size:1em">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><span style="font-size: 1.5em">There are <span style="color:#3477eb">two ways</span> to tackle the curse of dimensionality</span></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><br></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{columns} quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="column" style="width:40%;">
<h3 id="sparsity"><span style="font-size: 0.7em">1. Sparsity</span></h3>
<p><span style="font-size: 1em">Assume that the intrinsic dimension is lower</span></p>
<ul>
<li><span style="font-size: 1em">E.g. Not all variables are relevant</span></li>
<li><span style="font-size: 1em">Or feature engineer a few highly predictive variables</span></li>
</ul>
</div>
<div class="column" style="width:40%;">
<h3 id="structure"><span style="font-size: 0.7em">2. Structure</span></h3>
<p><span style="font-size: 1em">Interactions are limited and structure can be exploited</span></p>
<ul>
<li><span style="font-size: 1em">e.g.&nbsp;an additive structure <span class="math inline">\(m(x)=m_1(x_1)+m_2(x_2)\)</span>.</span></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="talk2_files/figure-revealjs/unnamed-chunk-6-1.png" width="288"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="footer">
<p><span style="color:#3477eb">The curse of dimensionality</span> <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="the-curse-of-dimensionality-solutions-1" class="slide level2">
<h2>The curse of dimensionality <span style="font-size: 0.7em; color: grey">Solutions</span></h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><span style="font-size: 1.5em">There are <span style="color:#3477eb">two ways</span> to tackle the curse of dimensionality</span></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><br></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="{columns} quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="column" style="width:30%;">
<h3 id="sparsity-1"><span style="font-size: 0.7em">1. Sparsity</span></h3>
<p>Assume that the intrinsic dimension is lower</p>
<ul>
<li><span style="font-size: 1em">E.g. Not all variables are relevant</span></li>
<li><span style="font-size: 1em">Or feature engineer a few highly predictive variables</span></li>
</ul>
</div>
<div class="column" style="width:30%;">
<h3 id="structure-1"><span style="font-size: 0.7em">2. Structure</span></h3>
<p>Interactions are limited and structure can be exploited</p>
<ul>
<li><span style="font-size: 1em">e.g.&nbsp;an additive structure <span class="math inline">\(m(x)=m_1(x_1)+m_2(x_2)\)</span>.</span></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="talk2_files/figure-revealjs/unnamed-chunk-7-1.png" width="288"></p>
</div>
</div>
</div>
<div class="column" style="width:30%;">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><span style="font-size: 2.5em">Interpretability</span></strong></p>
</div>
<div class="callout-content">
<p><span style="font-size: 1.4em"><u>Structure</u> is also essential for interpretability but current machine learning algorithms for tabular data do not make use of structure.</span></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="footer">
<p><span style="color:#3477eb">The curse of dimensionality</span> <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="the-curse-of-dimensionality-interpretability" class="slide level2">
<h2>The curse of dimensionality <span style="font-size: 0.5em; color: grey">&amp; Interpretability</span></h2>
<div style="font-size:1.2em">
<ul>
<li>Regression: <span class="math inline">\(Y_i=m(X_i)+\varepsilon_i\)</span></li>
<li>For now: <span style="color:#3477eb"> Interpretability</span> is understanding the <span style="color:#3477eb"> relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(\widehat m (X)\)</span> </span></li>
</ul>
</div>
<p><br></p>
<table>
<thead>
<tr class="header">
<th></th>
<th>GLM</th>
<th>Machine Learning<sup>1</sup></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>interpretable</td>
<td>✔</td>
<td>✘</td>
</tr>
<tr class="even">
<td>interactions</td>
<td>−</td>
<td>✔</td>
</tr>
<tr class="odd">
<td>variable selection/sparsity</td>
<td>−</td>
<td>✔</td>
</tr>
<tr class="even">
<td>non-linearity</td>
<td>−</td>
<td>✔</td>
</tr>
</tbody>
</table>
<p><br></p>
<ul>
<li><p><span style="font-size:2.2em"><span style="color:#3477eb">Current machine learning algorithms</span> are often highly flexible and can deal with interaction, sparsity and variable selection; but they are <span style="color:#3477eb"> not interpretable </span>.</span></p></li>
<li><p><span style="font-size:2.2em"><span style="color:#3477eb">GLMs</span> are interpretable but <span style="color:#3477eb">lack flexibility</span>. They also can not deal automatically with interactions, sparsity and variable selection.</span></p></li>
</ul>
<div class="footer">
<p><span style="color:#3477eb">The curse of dimensionality</span> <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>e.g.&nbsp;neural networks, random forests</p></li></ol></aside></section>
<section id="section-2" class="slide level2">
<h2></h2>
<div class="quarto-layout-panel" style="font-size: 3em; text-align: center">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><span style="font-size: 3.5em">2</span> Random Planted Forest</p>
</div>
</div>
</div>
</section>
<section id="random-planted-forest" class="slide level2">
<h2>Random Planted Forest</h2>
<p>This is joint work with</p>
<div id="menu">
<ul class="list-unstyled list-inline text-center">
<li>
<img src="joseph.jpg" alt="telematics" style="width:200px;  border-radius: 50%;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<figcaption>
<a href="https://stat.math.uni-heidelberg.de/people_detail.php?id=238" target="_blank"> Joseph Meyer</a> <br> Heidelberg University &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</figcaption>
</li>
<li>
<img src="mammen.jpg" alt="telematics" style="width:200px; border-radius: 50%;">
<figcaption>
<a href="https://www.math.uni-heidelberg.de/stat/mammen/" target="_blank"> Enno Mammen</a> <br> Heidelberg University
</figcaption>
</li>
</ul>
</div>
<p>Preprint is available on <a href="%5Bhttps://arxiv.org/abs/2012.14563%5D">https://arxiv.org/abs/2012.14563</a> <br></p>
</section>
<section id="random-planted-forest-motivation" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Motivation</span></h2>
<p>Assume a data set with <span class="math inline">\(d\)</span> features. Also assume that we can approximate the regression function <span class="math inline">\(m\)</span> by a <span style="color:#3477eb">(q-th) order</span> functional decomposition:</p>
<p><span class="math display">\[m(x) \approx  m_0+\sum_{k=1}^d  m_k(x_{k}) + \sum_{k_1&lt;k_2}  m_{k_1k_2}(x_{k_1},x_{k_2}) + \cdots +\sum_{k_1&lt;\cdots &lt;k_q}  m_{k_1,\dots,k_q} (x_{k_1},\dots,x_{k_q}).\]</span></p>
<ul>
<li>Optimal rates of convergence under the assumption that <span class="math inline">\(m\)</span> has two continuous partial derivatives:</li>
</ul>
<table>
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Model general</th>
<th>general \(d\)</th>
<th>\(d = 6\)</th>
<th>Comparable sample sizes for \(d=6\)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Full model</td>
<td>\(O_p(n^{-2/(d+4)})\)</td>
<td>\(O_p(n^{-1/5})\)</td>
<td>1 000 000</td>
</tr>
<tr class="even">
<td>Interaction (q)</td>
<td>\(O_p(n^{-2/(q+4)})\)</td>
<td>\(O_p(n^{-2/(q+4)})\)</td>
<td>1 000 – 1 000 000</td>
</tr>
<tr class="odd">
<td>Interaction (2)</td>
<td>\(O_p(n^{-1/3})\)</td>
<td>\(O_p(n^{-1/3})\)</td>
<td>4 000</td>
</tr>
<tr class="even">
<td>Additive</td>
<td>\(O_p(n^{-2/5})\)</td>
<td>\(O_p(n^{-2/5})\)</td>
<td>1 000</td>
</tr>
</tbody>
</table>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-main-idea" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Main Idea</span></h2>
<div style="font-size:1.2em">
<ul>
<li>Start with a fixed structure and become more complex in a data driven way along a pre-specified path</li>
</ul>
<p><span class="math display">\[m(x)=m_0+\sum_{k=1}^d m_k(x_{k}) + \sum_{k&lt;l} m_{kl}(x_{k},x_{l}) + \sum_{j&lt;k&lt;l} m_{jkl}(x_{j},x_{k},x_{l})+ \cdots.\]</span> </p>
<ul>
<li>We aim to <span style="color:#3477eb"> estimate the components <span class="math inline">\(m_k, m_{kl}, \dots\)</span> simultaneously</span></li>
<li>This is different to <span class="citation" data-cites="lou2013accurate">Lou et al. (<a href="#/references" role="doc-biblioref" onclick="">2013</a>)</span> and related literature that first specify the components and then estimate them iteratively.</li>
</ul>
</div>
<h4 id="how">How:</h4>
<div style="font-size:1.0em">
<ul>
<li><span style="color:#3477eb">Replace tree </span> in classical random forest <span style="color:#3477eb">by a family of trees</span> that grow simultaneously.</li>
<li><span style="color:#3477eb"> Each tree corresponds to a component</span> in the ANOVA decomposition.
<ul>
<li><span style="font-size:2em">first order approximation <span class="math inline">\(\rightarrow\)</span> additive model.</span></li>
<li><span style="font-size:2em">second order approximation <span class="math inline">\(\rightarrow\)</span> fitting main term and pairwise interactions.</span></li>
<li><span style="font-size:2em">order of approximation = number of covariates <span class="math inline">\(\Rightarrow\)</span> no restriction on functional form</span></li>
</ul></li>
</ul>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-the-algorithm" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">The algorithm</span></h2>
<h5 id="setting-dim3-t_try0.6-split_try5-n_splits10"><span style="font-size: 0.5em">Setting: <span class="math inline">\(dim\)</span>=3, <span style="color:#3477eb"><span class="math inline">\(t_{try}\)</span>=0.6</span>, <span style="color:#eab676"><span class="math inline">\(split_{try}\)</span>=5</span>, <span style="color:#873e23"><span class="math inline">\(n_{splits}\)</span>=10</span></span></h5>
<div class="{columns}">
<div class="column" style="width:50%;">
<p><img data-src="images/s5.png"></p>
</div>
<div class="column" style="width:45%;">
<p><span style="color:#873e23">Split 1:</span></p>
<div>
<div style="font-size:1em">
<ul>
<li class="fragment"><p><span style="font-size:2em">3 possible combinations:</span></p>
<ul>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></li>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_2: x_2\)</span></span></li>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_3: x_3\)</span></span></li>
</ul></li>
<li class="fragment"><p><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(t_{try}:\)</span> <span class="math inline">\(0.6\times3=1.8 \rightarrow\)</span> 2 viable combinations randomly picked, say:</span> </span></p>
<ul>
<li class="fragment"><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></span>,</li>
<li class="fragment"><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_2: x_2\)</span></span></span></li>
</ul></li>
<li class="fragment"><p><span style="color:#eab676"> <span style="font-size:2em"><span class="math inline">\(split_{try}:\)</span>For each viable split option we consider 5 randomly picked split points <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(2\times5=10\)</span> split options.</span> <span style="color:#eab676"></span></span></p></li>
<li class="fragment"><p><span style="font-size:2em">Compare the 10 split options: <span class="math inline">\(\sum_i (\widehat m(X_i) -Y_i)^2\)</span></span></p></li>
<li class="fragment"><p><span style="font-size:2em"><span class="math inline">\((m_2tree\rightarrow x_2,c_1)\)</span> produces minimal least squares loss.</span></p></li>
</ul>
</div>
</div>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-the-algorithm-1" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">The algorithm</span></h2>
<h5 id="setting-dim3-t_try0.6-split_try5-n_splits10-1"><span style="font-size: 0.5em">Setting: <span class="math inline">\(dim\)</span>=3, <span style="color:#3477eb"><span class="math inline">\(t_{try}\)</span>=0.6</span>, <span style="color:#eab676"><span class="math inline">\(split_{try}\)</span>=5</span>, <span style="color:#873e23"><span class="math inline">\(n_{splits}\)</span>=10</span></span></h5>
<div class="{columns}">
<div class="column" style="width:50%;">
<p><img data-src="images/s4.png"></p>
</div>
<div class="column" style="width:45%;">
<p><span style="color:#873e23">Split 1:</span></p>
<div style="font-size:1em">
<ul>
<li><p><span style="font-size:2em">3 possible combinations:</span></p>
<ul>
<li><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_2: x_2\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_3: x_3\)</span></span></li>
</ul></li>
<li><p><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(t_{try}:\)</span> <span class="math inline">\(0.6\times3=1.8 \rightarrow\)</span> 2 viable combinations randomly picked, say:</span> </span></p>
<ul>
<li><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></span>,</li>
<li><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_2: x_2\)</span></span></span></li>
</ul></li>
<li><p><span style="color:#eab676"> <span style="font-size:2em"><span class="math inline">\(split_{try}:\)</span>For each viable split option we consider 5 randomly picked split points <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(2\times5=10\)</span> split options.</span> <span style="color:#eab676"></span></span></p></li>
<li><p><span style="font-size:2em">Compare the 10 split options: <span class="math inline">\(\sum_i (\widehat m(X_i) -Y_i)^2\)</span></span></p></li>
<li><p><span style="font-size:2em"><span class="math inline">\((m_2tree\rightarrow x_2,c_1)\)</span> produces minimal least squares loss.</span></p></li>
</ul>
</div>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-the-algorithm-2" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">The algorithm</span></h2>
<h5 id="setting-dim3-t_try0.6-split_try5-n_splits10-2"><span style="font-size: 0.5em">Setting: <span class="math inline">\(dim\)</span>=3, <span style="color:#3477eb"><span class="math inline">\(t_{try}\)</span>=0.6</span>, <span style="color:#eab676"><span class="math inline">\(split_{try}\)</span>=5</span>, <span style="color:#873e23"><span class="math inline">\(n_{splits}\)</span>=10</span></span></h5>
<div class="{columns}">
<div class="column" style="width:50%;">
<p><img src="images/s4.png" alt="telematics" style="width:500px;"></p>
</div>
<div class="column" style="width:45%;">
<p><span style="color:#873e23">Split 2:</span></p>
<div style="font-size:1em">
<div>
<ul>
<li class="fragment"><p><span style="font-size:2em">Now: 5 possible split combinations:</span></p>
<ul>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></li>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_3: x_3\)</span></span></li>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_2\rightarrow m_{12}: x_1\)</span></span></li>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_2\rightarrow m_{13}: x_3\)</span></span></li>
<li class="fragment"><span style="font-size:2em"><span class="math inline">\(m_2: x_2\)</span></span></li>
</ul></li>
<li class="fragment"><p><span style="color:#3477eb"><span style="font-size:2em">Viable split combinations: <span class="math inline">\(5\times0.6=3\)</span> –&gt; 3 options randomly picked, say</span></span></p>
<ul>
<li class="fragment"><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_1: x_1\)</span></span></span></li>
<li class="fragment"><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_2\rightarrow m_{23}: x_3\)</span></span></span></li>
<li class="fragment"><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_3: x_3\)</span></span></span></li>
</ul></li>
<li class="fragment"><p><span style="font-size:2em">Hence <span style="color:#eab676"><span class="math inline">\(5\)</span></span><span class="math inline">\(\times(1+2+1)=20\)</span> split options.</span></p></li>
<li class="fragment"><p><span style="font-size:2em"><span class="math inline">\((m_0 \rightarrow m_3: x_3,c_2)\)</span> produces minimal least squares loss.</span></p></li>
</ul>
</div>
</div>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-the-algorithm-3" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">The algorithm</span></h2>
<h5 id="setting-dim3-t_try0.6-split_try5-n_splits10-3"><span style="font-size: 0.5em">Setting: <span class="math inline">\(dim\)</span>=3, <span style="color:#3477eb"><span class="math inline">\(t_{try}\)</span>=0.6</span>, <span style="color:#eab676"><span class="math inline">\(split_{try}\)</span>=5</span>, <span style="color:#873e23"><span class="math inline">\(n_{splits}\)</span>=10</span></span></h5>
<div class="{columns}">
<div class="column" style="width:50%;">
<p><img src="images/s3.png" alt="telematics" style="width:500px;"></p>
</div>
<div class="column" style="width:45%;">
<p><span style="color:#873e23">Split 2:</span></p>
<div style="font-size:1em">
<ul>
<li><p><span style="font-size:2em">Now: 5 possible split combinations:</span></p>
<ul>
<li><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_3: x_3\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2\rightarrow m_{12}: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2\rightarrow m_{13}: x_3\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2: x_2\)</span></span></li>
</ul></li>
<li><p><span style="color:#3477eb"><span style="font-size:2em">Viable split combinations: <span class="math inline">\(5\times0.6=3\)</span> –&gt; 3 options randomly picked, say</span></span></p>
<ul>
<li><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0\rightarrow m_1: x_1\)</span></span></span></li>
<li><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_2\rightarrow m_{23}: x_3\)</span></span></span></li>
<li><span style="color:#3477eb"><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_3: x_3\)</span></span></span></li>
</ul></li>
<li><p><span style="font-size:2em">Hence <span style="color:#eab676"><span class="math inline">\(5\)</span></span><span class="math inline">\(\times(1+2+1)=20\)</span> split options.</span></p></li>
<li><p><span style="font-size:2em"><span class="math inline">\((m_0 \rightarrow m_3: x_3,c_2)\)</span> produces minimal least squares loss.</span></p></li>
</ul>
</div>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-the-algorithm-4" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">The algorithm</span></h2>
<h5 id="setting-dim3-t_try0.6-split_try5-n_splits10-4"><span style="font-size: 0.5em">Setting: <span class="math inline">\(dim\)</span>=3, <span style="color:#3477eb"><span class="math inline">\(t_{try}\)</span>=0.6</span>, <span style="color:#eab676"><span class="math inline">\(split_{try}\)</span>=5</span>, <span style="color:#873e23"><span class="math inline">\(n_{splits}\)</span>=10</span></span></h5>
<div class="{columns}">
<div class="column" style="width:50%&quot;;">
<p><img data-src="images/s3.png"></p>
</div>
<div class="column" style="width:45%;">
<p><span style="color:#873e23">Split 3:</span></p>
<ul>
<li>Now: 7 possible split combinations:
<ul>
<li><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2 \rightarrow m_{12}: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2 \rightarrow m_{13}: x_3\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2 \rightarrow x_2\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_3 \rightarrow m_{13}: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_3 \rightarrow m_{23}: x_2\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_3 \rightarrow x_3\)</span></span></li>
</ul></li>
<li>…</li>
<li><span class="math inline">\((m_3 \rightarrow m_{13}: x_1,c_3)\)</span> produces minimal least squares loss.</li>
</ul>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-the-algorithm-5" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">The algorithm</span></h2>
<h5 id="setting-dim3-t_try0.6-split_try5-n_splits10-5"><span style="font-size: 0.5em">Setting: <span class="math inline">\(dim\)</span>=3, <span style="color:#3477eb"><span class="math inline">\(t_{try}\)</span>=0.6</span>, <span style="color:#eab676"><span class="math inline">\(split_{try}\)</span>=5</span>, <span style="color:#873e23"><span class="math inline">\(n_{splits}\)</span>=10</span></span></h5>
<div class="{columns}">
<div class="column" style="width:50%&quot;;">
<p><img data-src="images/s2.png"></p>
</div>
<div class="column" style="width:45%;">
<p><span style="color:#873e23">Split 3:</span></p>
<ul>
<li>Now: 7 possible split combinations:
<ul>
<li><span style="font-size:2em"><span class="math inline">\(m_0 \rightarrow m_1: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2 \rightarrow m_{12}: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2 \rightarrow m_{13}: x_3\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_2 \rightarrow x_2\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_3 \rightarrow m_{13}: x_1\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_3 \rightarrow m_{23}: x_2\)</span></span></li>
<li><span style="font-size:2em"><span class="math inline">\(m_3 \rightarrow x_3\)</span></span></li>
</ul></li>
<li>…</li>
<li><span class="math inline">\((m_3 \rightarrow m_{13}: x_1,c_3)\)</span> produces minimal least squares loss.</li>
</ul>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-the-algorithm-6" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">The algorithm</span></h2>
<h5 id="setting-dim3-t_try0.6-split_try5-n_splits10-6"><span style="font-size: 0.5em">Setting: <span class="math inline">\(dim\)</span>=3, <span style="color:#3477eb"><span class="math inline">\(t_{try}\)</span>=0.6</span>, <span style="color:#eab676"><span class="math inline">\(split_{try}\)</span>=5</span>, <span style="color:#873e23"><span class="math inline">\(n_{splits}\)</span>=10</span></span></h5>
<div class="{columns}">
<div class="column" style="width:50%;">
<p><img data-src="images/s1.png"></p>
</div>
<div class="column" style="width:45%;">
<p><span style="color:#873e23">Split 4:</span></p>
<ul>
<li><span class="math inline">\((m_2 \rightarrow m_{2}: x_2,c_4)\)</span> produces minimal least squares loss.</li>
</ul>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-accuracy-simulation" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<ul>
<li>We will evaluate how Random Planted forest deals with combinations of <span style="color:#3477eb">interactions</span>, <span style="color:#3477eb">variable selection/sparsity</span>, <span style="color:#3477eb">non-linearity/jumps</span></li>
</ul>
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Regression setting (In all simulations):</span></strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(Y_i=m(x_i)+\varepsilon_i, \quad i=1,\dots,500, x_i\in \mathbb R^{\textrm{dim}}\)</span></p>
<ul>
<li><span class="math inline">\(\textrm{dim}=30\)</span></li>
<li><span class="math inline">\(Corr(X_j,X_k)\approx 0.3, \ j\neq k\)</span></li>
<li><span class="math inline">\(\varepsilon_i\sim N(0,1), iid\)</span></li>
</ul>
</div>
</div>
</div>
<h4 id="comparison-between"><span style="font-size: 0.7em">Comparison between</span></h4>
<ul>
<li>Random Planted Forest</li>
<li>XGboost – a gradient boosting variant</li>
<li>gam via mgcv package (= GLM with smoothing splines)</li>
</ul>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-accuracy-simulation-1" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Regression setting:</span></strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(Y_i=m(x_i)+\varepsilon_i, \quad i=1,\dots,500, x_i\in \mathbb R^{\textrm{dim}}\)</span></p>
<ul>
<li><span class="math inline">\(\textrm{dim}=30\)</span></li>
<li><span class="math inline">\(Corr(X_j,X_k)\approx 0.3, \ j\neq k\)</span></li>
<li><span class="math inline">\(\varepsilon_i\sim N(0,1), iid\)</span></li>
</ul>
</div>
</div>
</div>
<h4 id="first-settingadditive-sparse-230-features-non-linear-sin-curve"><span style="font-size: 0.7em">First setting:</span><span style="font-size: 0.5em; color: grey">Additive, Sparse (2/30 features), Non-linear (sin-curve)</span></h4>
<ul>
<li><span class="math inline">\(m(x)=m_1(x_1)+m_2(x_2)+\cdots+ m_{30}(x_{30})\)</span></li>
<li><span class="math inline">\(m_1(x_1)=-2\sin(\pi x_1), \ m_2(x_2)=2\sin(\pi x_2)\)</span></li>
<li><span class="math inline">\(m_3(x_3)=m_4(x_4)=\cdots=m_{30}(x_{30})=0\)</span></li>
</ul>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-accuracy-simulation-2" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<h3 id="additive-sparse-230-features-non-linear-sin-curve"><span style="font-size: 0.5em; color: grey">Additive, Sparse (2/30 features), Non-linear (sin-curve)</span></h3>
<div class="{columns}">
<div class="column" style="width:60%;">
<p><img data-src="images/Model1.jpg"></p>
</div>
<div class="column" style="width:35%;">
<ul>
<li><p><span style="font-size: 2em">True function: black solid line</span></p></li>
<li><p><span style="font-size: 2em">Grey lines: 40 Monte Carlo simulations</span></p></li>
<li><p><span style="font-size: 2em">xgboost (additive=depth=1)</span></p></li>
<li><p><span style="font-size: 2em">planted forest (additive= max interaction=1)</span></p></li>
<li><p><span style="font-size: 2em">Simulations are run with optimal parameters</span></p></li>
</ul>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-accuracy-simulation-3" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Regression setting:</span></strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(Y_i=m(x_i)+\varepsilon_i, \quad i=1,\dots,500, x_i\in \mathbb R^{\textrm{dim}}\)</span></p>
<ul>
<li><span class="math inline">\(\textrm{dim}=30\)</span></li>
<li><span class="math inline">\(Corr(X_j,X_k)\approx 0.3, \ j\neq k\)</span></li>
<li><span class="math inline">\(\varepsilon_i\sim N(0,1), iid\)</span></li>
</ul>
</div>
</div>
</div>
<h4 id="second-settingadditive-sparse-230-features-jump"><span style="font-size: 0.7em">Second setting:</span><span style="font-size: 0.5em; color: grey">Additive, Sparse (2/30 features), <b>jump</b></span></h4>

<img src="images/Model5.jpg" alt="telematics" style="width:500px;" class="r-stretch"><div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-accuracy-simulation-4" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Regression setting:</span></strong></p>
</div>
<div class="callout-content">
<p><span class="math inline">\(Y_i=m(x_i)+\varepsilon_i, \quad i=1,\dots,500, x_i\in \mathbb R^{\textrm{dim}}\)</span></p>
<ul>
<li><span class="math inline">\(\textrm{dim}=30\)</span></li>
<li><span class="math inline">\(Corr(X_j,X_k)\approx 0.3, \ j\neq k\)</span></li>
<li><span class="math inline">\(\varepsilon_i\sim N(0,1), iid\)</span></li>
</ul>
</div>
</div>
</div>
<h4 id="third-settingtextbfpair-wise-interaction-sparse-230-features-smooth"><span style="font-size: 0.7em">Third setting:</span><span style="font-size: 0.5em; color: grey"><span class="math inline">\(\textbf{pair-wise interaction}\)</span>, Sparse (2/30 features), smooth</span></h4>
<div class="{columns}">
<div class="column" style="width:60%;">
<p><img src="images/Model1-heatmap4.jpg" alt="model1-heatmap4" style="width:3000px;"></p>
</div>
<div class="column" style="width:35%;">
<ul>
<li>Estimating <span class="math inline">\(m_{12}(x_{1},x_2)\)</span></li>
<li>We do not consider gam anymore-</li>
<li>Heatmaps show median performing estimators out of 40 Monte Carlo simulations</li>
</ul>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-accuracy-simulation-5" class="slide level2 scrollable">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<h4 id="sparsesmoothadditive.-table-shows-mean-squared-error-standard-deviation"><span style="font-size: 0.5em; color: grey"><span style="color:#3477eb">sparse+smooth+additive.</span> Table shows <span style="color:#3477eb"> Mean Squared Error (Standard deviation) </span></span></h4>
<p><span style="font-size:1.5em"></span></p>
<table>
<colgroup>
<col style="width: 16%">
<col style="width: 22%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Assumption</th>
<th>dim=4</th>
<th>dim=10</th>
<th>dim=30</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>xgboost</td>
<td>additive</td>
<td>0.119 (0.021)</td>
<td>0.142 (0.021)</td>
<td>0.176 (0.027)</td>
</tr>
<tr class="even">
<td>xgboost</td>
<td>-</td>
<td>0.141 (0.024)</td>
<td>0.166 (0.028)</td>
<td>0.193 (0.033)</td>
</tr>
<tr class="odd">
<td>xgboost-CV</td>
<td>-</td>
<td>0.139 (0.028)</td>
<td>0.152 (0.029)</td>
<td>0.194 (0.035)</td>
</tr>
<tr class="even">
<td>rpf</td>
<td>additive</td>
<td>0.087 (0.018)</td>
<td>0.086 (0.017)</td>
<td>0.097 (0.019)</td>
</tr>
<tr class="odd">
<td>rpf</td>
<td>interaction(2)</td>
<td>0.107 (0.015)</td>
<td>0.121 (0.025)</td>
<td>0.142 (0.026)</td>
</tr>
<tr class="even">
<td>rpf</td>
<td>-</td>
<td>0.112 (0.017)</td>
<td>0.134 (0.026)</td>
<td>0.162 (0.028)</td>
</tr>
<tr class="odd">
<td>rpf-CV</td>
<td>-</td>
<td>0.103 (0.02)</td>
<td>0.102 (0.035)</td>
<td>0.105 (0.022)</td>
</tr>
<tr class="even">
<td>rf</td>
<td>-</td>
<td>0.209 (0.021)</td>
<td>0.252 (0.027)</td>
<td>0.3 (0.029)</td>
</tr>
<tr class="odd">
<td>sbf</td>
<td>additive+smooth</td>
<td>0.071 (0.026)</td>
<td>0.134 (0.013)</td>
<td>0.388 (0.073)</td>
</tr>
<tr class="even">
<td>gam</td>
<td>additive+smooth</td>
<td>0.033 (0.012)</td>
<td>0.035 (0.013)</td>
<td>0.058 (0.021)</td>
</tr>
<tr class="odd">
<td>BART</td>
<td>-</td>
<td>0.085 (0.019)</td>
<td>0.076 (0.017)</td>
<td>0.091 (0.023)</td>
</tr>
<tr class="even">
<td>BART-CV</td>
<td>-</td>
<td>0.09 (0.019)</td>
<td>0.081 (0.014)</td>
<td>0.09 (0.02)</td>
</tr>
<tr class="odd">
<td>MARS</td>
<td>smooth</td>
<td>0.054 (0.014)</td>
<td>0.061 (0.025)</td>
<td>0.076 (0.031)</td>
</tr>
<tr class="even">
<td>1-NN</td>
<td>no noise</td>
<td>1.509 (0.1)</td>
<td>3.228 (0.182)</td>
<td>5.534 (0.313)</td>
</tr>
<tr class="odd">
<td>average</td>
<td>no covariates</td>
<td>3.811 (0.217)</td>
<td>3.689 (0.183)</td>
<td>3.748 (0.202)</td>
</tr>
</tbody>
</table>
<p></p>
</section>
<section id="random-planted-forest-accuracy-simulation-6" class="slide level2 scrollable">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<h4 id="sparsejumpadditive.-table-shows-mean-squared-error-standard-deviation"><span style="font-size: 0.5em; color: grey"><span style="color:#3477eb">sparse+jump+additive.</span> Table shows <span style="color:#3477eb"> Mean Squared Error (Standard deviation) </span></span></h4>
<table>
<colgroup>
<col style="width: 15%">
<col style="width: 27%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Assumption</th>
<th>dim=4</th>
<th>dim=10</th>
<th>dim=30</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>xgboost</td>
<td>additive</td>
<td>0.19 (0.029)</td>
<td>0.282 (0.044)</td>
<td>0.401 (0.045)</td>
</tr>
<tr class="even">
<td>xgboost</td>
<td>-</td>
<td>0.198 (0.031)</td>
<td>0.265 (0.053)</td>
<td>0.286 (0.034)</td>
</tr>
<tr class="odd">
<td>xgboost-CV</td>
<td>-</td>
<td>0.209 (0.028)</td>
<td>0.281 (0.052)</td>
<td>0.313 (0.058)</td>
</tr>
<tr class="even">
<td>rpf</td>
<td>additive</td>
<td>0.159 (0.033)</td>
<td>0.198 (0.075)</td>
<td>0.179 (0.041)</td>
</tr>
<tr class="odd">
<td>rpf</td>
<td>interaction(2)</td>
<td>0.185 (0.028)</td>
<td>0.24 (0.066)</td>
<td>0.259 (0.043)</td>
</tr>
<tr class="even">
<td>rpf</td>
<td>-</td>
<td>0.192 (0.026)</td>
<td>0.251 (0.065)</td>
<td>0.282 (0.043)</td>
</tr>
<tr class="odd">
<td>rpf-CV</td>
<td>-</td>
<td>0.169 (0.033)</td>
<td>0.207 (0.072)</td>
<td>0.183 (0.042)</td>
</tr>
<tr class="even">
<td>rf</td>
<td>-</td>
<td>0.274 (0.035)</td>
<td>0.322 (0.05)</td>
<td>0.375 (0.037)</td>
</tr>
<tr class="odd">
<td>sbf</td>
<td>additive+smooth</td>
<td>0.342 (0.049)</td>
<td>0.603 (0.053)</td>
<td>1.112 (0.138)</td>
</tr>
<tr class="even">
<td>gam</td>
<td>additive+smooth</td>
<td>0.41 (0.047)</td>
<td>0.406 (0.027)</td>
<td>0.431 (0.06)</td>
</tr>
<tr class="odd">
<td>BART</td>
<td>-</td>
<td>0.177 (0.047)</td>
<td>0.162 (0.038)</td>
<td>0.157 (0.034)</td>
</tr>
<tr class="even">
<td>BART-CV</td>
<td>-</td>
<td>0.179 (0.051)</td>
<td>0.163 (0.041)</td>
<td>0.159 (0.036)</td>
</tr>
<tr class="odd">
<td>MARS</td>
<td>smooth</td>
<td>0.751 (0.136)</td>
<td>0.74 (0.104)</td>
<td>0.687 (0.123)</td>
</tr>
<tr class="even">
<td>1-NN</td>
<td>no noise</td>
<td>2.393 (0.229)</td>
<td>3.029 (0.308)</td>
<td>3.512 (0.333)</td>
</tr>
<tr class="odd">
<td>average</td>
<td>no covariates</td>
<td>1.276 (0.075)</td>
<td>1.25 (0.063)</td>
<td>1.213 (0.054)</td>
</tr>
</tbody>
</table>
</section>
<section id="random-planted-forest-accuracy-simulation-7" class="slide level2 scrollable">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<h4 id="sparsesmoothhierarchical-interaction.-table-shows-mean-squared-error-standard-deviation"><span style="font-size: 0.5em; color: grey"><span style="color:#3477eb">sparse+smooth+hierarchical interaction.</span> Table shows <span style="color:#3477eb"> Mean Squared Error (Standard deviation) </span></span></h4>
<table>
<colgroup>
<col style="width: 16%">
<col style="width: 21%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Assumption</th>
<th>dim=4</th>
<th>dim=10</th>
<th>dim=30</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>xgboost</td>
<td>-</td>
<td>0.374 (0.035)</td>
<td>0.481 (0.064)</td>
<td>0.557 (0.089)</td>
</tr>
<tr class="even">
<td>xgboost-CV</td>
<td>-</td>
<td>0.393 (0.051)</td>
<td>0.499 (0.058)</td>
<td>0.563 (0.089)</td>
</tr>
<tr class="odd">
<td>rpf</td>
<td>interaction(2)</td>
<td>0.248 (0.038)</td>
<td>0.327 (0.045)</td>
<td>0.408 (0.07)</td>
</tr>
<tr class="even">
<td>rpf</td>
<td>-</td>
<td>0.263 (0.034)</td>
<td>0.357 (0.044)</td>
<td>0.452 (0.076)</td>
</tr>
<tr class="odd">
<td>rpf-CV</td>
<td>-</td>
<td>0.277 (0.039)</td>
<td>0.366 (0.051)</td>
<td>0.463 (0.083)</td>
</tr>
<tr class="even">
<td>rf</td>
<td>-</td>
<td>0.432 (0.039)</td>
<td>0.575 (0.061)</td>
<td>0.671 (0.08)</td>
</tr>
<tr class="odd">
<td>BART</td>
<td>-</td>
<td>0.214 (0.03)</td>
<td>0.223 (0.04)</td>
<td>0.252 (0.037)</td>
</tr>
<tr class="even">
<td>BART-CV</td>
<td>-</td>
<td>0.242 (0.043)</td>
<td>0.276 (0.053)</td>
<td>0.315 (0.047)</td>
</tr>
<tr class="odd">
<td>MARS</td>
<td>smooth</td>
<td>0.355 (0.089)</td>
<td>0.282 (0.038)</td>
<td>0.414 (0.126)</td>
</tr>
<tr class="even">
<td>1-NN</td>
<td>no noise</td>
<td>2.068 (0.156)</td>
<td>5.988 (0.624)</td>
<td>11.059 (0.676)</td>
</tr>
<tr class="odd">
<td>average</td>
<td>no covariates</td>
<td>8.366 (0.43)</td>
<td>8.086 (0.246)</td>
<td>8.207 (0.496)</td>
</tr>
</tbody>
</table>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="random-planted-forest-accuracy-simulation-8" class="slide level2 scrollable">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Simulation</span></h2>
<h4 id="sparsesmoothpure-interaction.-table-shows-mean-squared-error-standard-deviation"><span style="font-size: 0.5em; color: grey"><span style="color:#3477eb">sparse+smooth+pure interaction.</span> Table shows <span style="color:#3477eb"> Mean Squared Error (Standard deviation) </span></span></h4>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 17%">
<col style="width: 23%">
<col style="width: 22%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Assumption</th>
<th>dim=4</th>
<th>dim=10</th>
<th>dim=30</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>xgboost</td>
<td>-</td>
<td>0.417 (0.082)</td>
<td>0.797 (0.16)</td>
<td>1.381 (0.234)</td>
</tr>
<tr class="even">
<td></td>
<td>xgboost-CV</td>
<td>-</td>
<td>0.443 (0.078)</td>
<td>0.872 (0.136)</td>
</tr>
<tr class="odd">
<td></td>
<td>rpf</td>
<td>interaction(2)</td>
<td>0.416 (0.082)</td>
<td>1.289 (0.224)</td>
</tr>
<tr class="even">
<td></td>
<td>rpf</td>
<td>-</td>
<td>0.219 (0.035)</td>
<td>0.556 (0.143)</td>
</tr>
<tr class="odd">
<td></td>
<td>rpf-CV</td>
<td>-</td>
<td>0.233 (0.033)</td>
<td>0.603 (0.163)</td>
</tr>
<tr class="even">
<td></td>
<td>rf</td>
<td>-</td>
<td>0.304 (0.047)</td>
<td>0.744 (0.305)</td>
</tr>
<tr class="odd">
<td></td>
<td>BART</td>
<td>-</td>
<td>0.168 (0.022)</td>
<td>0.172 (0.032)</td>
</tr>
<tr class="even">
<td></td>
<td>BART-CV</td>
<td>-</td>
<td>0.192 (0.03)</td>
<td>0.199 (0.039)</td>
</tr>
<tr class="odd">
<td></td>
<td>MARS</td>
<td>smooth</td>
<td>0.245 (0.088)</td>
<td>0.831 (0.728)</td>
</tr>
<tr class="even">
<td></td>
<td>1-NN</td>
<td>no noise</td>
<td>1.323 (0.117)</td>
<td>2.642 (0.317)</td>
</tr>
<tr class="odd">
<td></td>
<td>average</td>
<td>no covariates</td>
<td>2.187 (0.125)</td>
<td>2.226 (0.174)</td>
</tr>
</tbody>
</table>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="generalized-random-planted-forest" class="slide level2">
<h2>Generalized Random Planted Forest</h2>
<p><br> <br></p>
<p>This is joint work with</p>
<div id="menu">
<ul class="list-unstyled list-inline text-center">
<li>
<img src="joseph.jpg" alt="telematics" style="width:200px;  border-radius: 50%;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<figcaption>
<a href="https://stat.math.uni-heidelberg.de/people_detail.php?id=238" target="_blank"> Joseph Meyer</a> <br> Heidelberg University &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</figcaption>
</li>
<li>
<img src="mammen.jpg" alt="telematics" style="width:200px; border-radius: 50%;">
<figcaption>
<a href="https://www.math.uni-heidelberg.de/stat/mammen/" target="_blank"> Enno Mammen</a> <br> Heidelberg University
</figcaption>
</li>
<li>
<img src="6e683d547bdc0e9aef7c8c03b0ff5d29.jpeg" alt="telematics" style="width:150px; border-radius: 50%;">
<figcaption>
<a href="https://lukasburk.de/" target="_blank"> Lukas Burk</a> <br> The Leibniz Institute for Prevention <br> Research and Epidemiology - BIP
</figcaption>
</li>
<li>
<img src="marvin_small.jpg" alt="telematics" style="width:150px; border-radius: 50%;">
<figcaption>
<a href="https://mnwright.github.io/" target="_blank"> Marvin Wright</a> <br> The Leibniz Institute for Prevention <br> Research and Epidemiology - BIP
</figcaption>
</li>
</ul>
</div>
<p><br> <br></p>
<p>Code is available on <a href="https://github.com/PlantedML/randomPlantedForest">https://github.com/PlantedML/randomPlantedForest</a> <br></p>
</section>
<section id="random-planted-forest-accuracy-benchmark-data" class="slide level2">
<h2>Random Planted Forest <span style="font-size: 0.5em; color: grey">Accuracy: Benchmark-data</span></h2>

<img src="images/bmr-flip.png" alt="telematics" style="width:500px;" class="r-stretch"><div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb"> Random Planted forest</span> <span class="math inline">\(\cdots\)</span> Interpretability</p>
</div>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<div class="quarto-layout-panel" style="font-size: 3em; text-align: center">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><span style="font-size: 3.5em">3</span> Interpretability</p>
</div>
</div>
</div>
</section>
<section id="interpretability-1" class="slide level2">
<h2>Interpretability</h2>
<p><br> <br></p>
<p>This is joint work with</p>
<div id="menu">
<ul class="list-unstyled list-inline text-center">
<li>
<img src="joseph.jpg" alt="telematics" style="width:200px;  border-radius: 50%;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<figcaption>
<a href="https://stat.math.uni-heidelberg.de/people_detail.php?id=238" target="_blank"> Joseph Meyer</a> <br> Heidelberg University &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</figcaption>
</li>
<li>
<img src="marvin_small.jpg" alt="telematics" style="width:150px; border-radius: 50%;">
<figcaption>
<a href="https://mnwright.github.io/" target="_blank"> Marvin Wright</a> <br> The Leibniz Institute for Prevention <br> Research and Epidemiology - BIP
</figcaption>
</li>
</ul>
</div>
<p><br> <br></p>
<p>Preprint is available on <a href="%5Bhttps://arxiv.org/abs/2208.06151%5D">https://arxiv.org/abs/2208.06151</a> <br> Code is available on <a href="https://github.com/PlantedML/glex">https://github.com/PlantedML/glex</a> <br></p>
</section>
<section id="interpretability-some-notes" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Some notes</span></h2>
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">What is interpretability?</span></strong></p>
</div>
<div class="callout-content">

</div>
</div>
</div>
<div style="font-size: 2em">
<ul>
<li><p>A Random Planted Forest with max-interaction=2 is interpretable in the sense the we can <span style="color:#3477eb">plot</span> the one and two dimensional components.</p></li>
<li><p>Random Planted Forest is <span style="color:#3477eb"> not (yet) interpretable in a strong sense</span>: What is the meaning of the components.</p>
<ul>
<li>Do the components have a causal meaning?</li>
<li>What about correlations and interactions?</li>
<li>See also <span class="citation" data-cites="lipton2018mythos">Lipton (<a href="#/references" role="doc-biblioref" onclick="">2018</a>)</span>, for some thoughts on this.</li>
</ul></li>
<li><p>First: The components <span style="color:#3477eb"> <span class="math inline">\(m_0, m_k(x_{k}), m_{k_1k_2}(x_{k_1},x_{k_2}), \dots\)</span> are not yet identified </span>…</p></li>
</ul>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-identifiability" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Identifiability</span></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.5em">
<p><span style="font-size: 3em">Two possibilities are</span></p>
<ol type="1">
<li>[Generalized ANOVA] For every <span class="math inline">\(S\subseteq \{1,\dots,d\}\)</span> <br> and <span class="math inline">\(k\in u\)</span>, <span class="math display">\[\int m_{S}\left(x_{S}\right) \int w(x) \mathrm dx_{-S} \ \mathrm d x_{k}=0\]</span></li>
<li>For every <span class="math inline">\(S\subseteq \{1,\dots,d\}\)</span> <span class="math display">\[\sum_{T: T \cap S \neq \emptyset} \int  m_T(x_T)  \int w(x) \mathrm dx_{-S}\mathrm dx_S=0\]</span></li>
</ol>
</div>
</div><div class="column" style="width:50%;">
<p><br> <br></p>
<p>Common choices for <span class="math inline">\(w\)</span> are</p>
<ul>
<li><span class="math inline">\(w \equiv 1\)</span></li>
<li><span class="math inline">\(w(x)=p(x),\ \)</span> <span class="math inline">\(p=\)</span> density of <span class="math inline">\(X\)</span>.<br>
</li>
<li><span class="math inline">\(w(x)=\prod p_j(x_j),\ \)</span> <span class="math inline">\(p_j=\)</span> density of <span class="math inline">\(X_j\)</span>.<br>
</li>
</ul>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-identifiability-1" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Identifiability</span></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div style="font-size: 0.5em">
<p><span style="font-size: 3em">Two possibilities are</span></p>
<ol type="1">
<li>[Generalized ANOVA] For every <span class="math inline">\(S\subseteq \{1,\dots,d\}\)</span> <br>and <span class="math inline">\(k\in u\)</span>, <span class="math display">\[\int m_{S}\left(x_{S}\right) \int w(x) \mathrm dx_{-S} \ \mathrm d x_{k}=0\]</span></li>
<li><span style="color:#3477eb">For every <span class="math inline">\(S\subseteq \{1,\dots,d\}\)</span> <span class="math display">\[\sum_{T: T \cap S \neq \emptyset} \int  m_T(x_T)  \int w(x) \mathrm dx_{-S}\mathrm dx_S=0\]</span></span></li>
</ol>
</div>
</div><div class="column" style="width:50%;">
<p><br> <br></p>
<p>Common choices for <span class="math inline">\(w\)</span> are</p>
<ul>
<li><span class="math inline">\(w \equiv 1\)</span></li>
<li><span style="color:#3477eb"> <span class="math inline">\(w(x)=p(x),\ \)</span> <span class="math inline">\(p=\)</span> density of <span class="math inline">\(X\)</span>.</span></li>
<li><span class="math inline">\(w(x)=\prod p_j(x_j),\ \)</span> <span class="math inline">\(p_j=\)</span> density of <span class="math inline">\(X_j\)</span>.<br>
</li>
</ul>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-marginal-identification" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Marginal Identification</span></h2>
<p>For the rest of this talk we will consider the marginal identification</p>
<div style="font-size: 1.3em">
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1em; color: black">Marginal Identification</span></strong></p>
</div>
<div class="callout-content">
<p>For every <span class="math inline">\(S\subseteq \{1,\dots,d\}\)</span> <span class="math display">\[\sum_{T: T \cap S \neq \emptyset} \int  m_T(x_T)  p_{S}(x_{S}) \mathrm dx_S=0\]</span></p>
</div>
</div>
</div>
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Theorem</span></strong></p>
</div>
<div class="callout-content">
<p>Given any initial estimator <span class="math inline">\(\hat m^{(0)}=\{\hat m^{(0)}_S | S\subseteq \{1,\dots,d\}\}\)</span>, there exists exactly one set of functions <span class="math inline">\(\hat m^\ast=\{\hat m^\ast_S | S\subseteq \{1,\dots,d\}\}\)</span> satisfying the marginal constraint with <span class="math inline">\(\sum_S \hat m^\ast_S = \sum_S \hat m^{(0)}_S\)</span>. The functions are given by <span class="math display">\[
\hat m^\ast_S (x_S)=  \sum_{T \supseteq S} \sum_{T\setminus S \subseteq U\subseteq  T}(-1)^{|S|-|T\setminus U|} \times \int \hat m^{(0)}_T(x_T) \hat p_U(x_U)\mathrm dx_U. \notag
\]</span> In particular <span class="math inline">\(\hat m^\ast\)</span> does not depend on the particular identification of <span class="math inline">\(\hat m^{(0)}\)</span>.</p>
</div>
</div>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-marginal-identification-1" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Marginal Identification</span></h2>
<p>The are three reasons why the marginal identification is particularly interesting</p>
<ul>
<li>Partial Dependence Plots</li>
<li>SHAP values</li>
<li>Fairness</li>
</ul>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-marginal-identification-partial-dependence-plots" class="slide level2">
<h2>Interpretability <span style="font-size: 0.4em; color: grey">Marginal Identification: Partial Dependence Plots</span></h2>
<p><br> <br></p>
<div style="font-size: 1em">
<p>A partial dependence plot, <span class="math inline">\(\xi_S\)</span>, is defined as <span class="math display">\[\xi_S(x_S)= \int \hat m(x) p_{-S}(x_{-S})\mathrm dx_{-S}.\]</span></p>
</div>
<div style="font-size: 1.5em">
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Corollary</span></strong></p>
</div>
<div class="callout-content">
<p>If <span class="math inline">\(\hat m^{\ast}\)</span> satisfies the marginal identification, then <span class="math display">\[\xi_S=\sum_{U \subseteq S} \hat m_U^{\ast}.\]</span> In particular if <span class="math inline">\(S\)</span> is only one feature, i.e., <span class="math inline">\(S=\{k\}\)</span>, we have <span class="math display">\[\xi_k(x_k)= \hat m_0^{\ast} + \hat m_k^\ast(x_k).\]</span></p>
</div>
</div>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-marginal-identification-shap-values" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Marginal Identification: SHAP values</span></h2>
<div style="font-size: 1.5em">
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Theorem</span></strong></p>
</div>
<div class="callout-content">
<ul>
<li><span class="math inline">\(\hat m^{\ast}\)</span> is decomposed with <span style="color:#3477eb">marginal identification</span> satisfied</li>
<li>then, <span style="color:#3477eb">interventional SHAP values</span> are weighted averages components
<ul>
<li><span style="font-size: 2em">interaction component is equally split between involved features:</span></li>
</ul></li>
</ul>
<p><span class="math display">\[
\phi_k(x)= \hat m^{\ast}_k(x_k)+ \frac 1 2 \sum_j  \hat m^{\ast}_{kj}(x_{kj}) + \cdots + \frac 1 d \hat m^{\ast}_{1,\dots,d}(x_{1,\dots,d}).
\]</span></p>
</div>
</div>
</div>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-marginal-identification-shap-values-1" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Marginal Identification: SHAP values</span></h2>
<div style="font-size: 1.5em">
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Theorem</span></strong></p>
</div>
<div class="callout-content">
<ul>
<li><span class="math inline">\(\hat m^{\ast}\)</span> is decomposed with <span style="color:#3477eb">marginal identification</span> satisfied</li>
<li>then, <span style="color:#3477eb">interventional SHAP values</span> are weighted averages components
<ul>
<li><span style="font-size: 2em">interaction component is equally split between involved features:</span></li>
</ul></li>
</ul>
<p><span class="math display">\[
\phi_k(x)= \hat m^{\ast}_k(x_k)+ \frac 1 2 \sum_j  \hat m^{\ast}_{kj}(x_{kj}) + \cdots + \frac 1 d \hat m^{\ast}_{1,\dots,d}(x_{1,\dots,d}).
\]</span></p>
</div>
</div>
</div>
</div>
<section id="related-literature-appeared-some-weeks-after-our-preprint" style="font-size: 1em">
<h3><span style="font-size: 0.5em">Related Literature (appeared some weeks after our preprint)</span></h3>
<ul>
<li><span class="citation" data-cites="bordt2022shapley">Bordt and Luxburg (<a href="#/references" role="doc-biblioref" onclick="">2022</a>)</span> show that for every SHAP-value function there exists a one-to-one correspondence between SHAP values and an identification in a functional decomposition. But they do not provide explicit solutions.</li>
<li><span class="citation" data-cites="herren2022statistical">Herren and Hahn (<a href="#/references" role="doc-biblioref" onclick="">2022</a>)</span> describe an identification constraint that connects to observational SHAP.</li>
<li><span style="color:#3477eb">We</span> find an identification constraint that gives a one-to-one correspondence to interventional SHAP and provides a fast implementation for tree-based methods.</li>
</ul>
</section>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-marginal-identification-fairness" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Marginal Identification: fairness</span></h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="images/s9.png" alt="telematics" style="width:500px;"></p>
</div><div class="column" style="width:50%;">
<div style="font-size: 1.3em">
<ul>
<li><p><span style="font-size: 1.5em">Assume <span style="color:#3477eb"> <span class="math inline">\(U\)</span> is a set of protected features</span>.</span></p>
<ul>
<li><span style="font-size: 1.5em">For example <span class="math inline">\(U=\{\text{gender, ethnicity}\}\)</span>.</span></li>
</ul></li>
<li><p><span style="font-size: 1.5em">Let <span class="math inline">\(U \cup V=\{1,\dots, d\}, U\cap V=\emptyset\)</span>.</span></p></li>
<li><p><span style="font-size: 1.5em">The do-operator, <span class="math inline">\(do(X_V=x_V)\)</span>, removes all edges going into <span class="math inline">\(X_V\)</span>, ensuring counterfactual fairness <span class="citation" data-cites="kusner2017counterfactual">(<a href="#/references" role="doc-biblioref" onclick="">Kusner et al. 2017</a>)</span>, see also <span class="citation" data-cites="lindholm2022discrimination">Lindholm et al. (<a href="#/references" role="doc-biblioref" onclick="">2022</a>)</span></span></p></li>
</ul>
</div>
</div>
</div>
<div style="font-size: 1.3em">
<ul>
<li><p><span style="font-size: 1.5em"><span class="math inline">\(E[m(X) |\  do(X_V=x_V))\)</span> does not use information contained in <span class="math inline">\(X_U\)</span>; neither directly nor indirectly.</span></p></li>
<li><p><span style="font-size: 1.5em">Under the assumed causal structure we have <span class="math display">\[E[m(X) |\ do(X_V=x_V)]= \int m(x) p_U(x_U) dx_U.\]</span></span></p></li>
<li><p><span style="font-size: 1.5em">Under marginal identifiaction: <span class="math display">\[\int \hat m^\ast(x) \hat p_U(x_U) dx_U= \sum_{S: S\cap U =\emptyset}\int \hat m^\ast_S(x_S) \hat p_U(x_U) dx_U + \sum_{S: S\cap U \neq \emptyset}\int \hat m^\ast_S(x_S) \hat p_U(x_U) dx_U= \sum_{S \subseteq V} \hat m^\ast_S(x_S),\]</span> i.e., a “fair” estimator can be extracted from <span class="math inline">\(\hat m\)</span> by dropping all components that include features in <span class="math inline">\(U\)</span>.</span></p></li>
</ul>
</div>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="interpretability-marginal-identificationsummary" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Marginal Identification:Summary</span></h2>
<div style="font-size: 1.5em">
<div class="callout callout-note no-icon callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<p><strong><span style="font-size: 1.5em; color: black">Summary(Marginal Identification)</span></strong></p>
</div>
<div class="callout-content">
<p>If <span class="math inline">\(m\)</span> is identified via the marginal identification, then</p>
<ul>
<li><p><span style="font-size: 2em"><span style="color:#3477eb">Interventional SHAP values:</span> We have <span class="math display">\[
\phi_k(x)= \hat m^{\ast}_k(x_k)+ \frac 1 2 \sum_j  \hat m^{\ast}_{kj}(x_{kj}) + \cdots + \frac 1 d \hat m^{\ast}_{1,\dots,d}(x_{1,\dots,d}).
\]</span></span></p></li>
<li><p><span style="font-size: 2em"><span style="color:#3477eb">Partial dependence plots:</span> We have <span class="math display">\[\xi_k(x_k)= \hat m_0^{\ast} + \hat m_k^\ast(x_k).\]</span></span></p></li>
<li><p><span style="font-size: 2em"><span style="color:#3477eb">Fairness:</span> If <span class="math inline">\(S\)</span> are protected variables and all components that contain a subset of <span class="math inline">\(S\)</span> are dropped, we derive a fair estimator.</span></p></li>
</ul>
</div>
</div>
</div>
<ul>
<li><p><span style="font-size: 1em">We have made available a fast implementation for extracting the marginal identification from xgboost on github: https://github.com/PlantedML/glex.</span></p></li>
<li><p><span style="font-size: 1em">A version for Random Planted forest will be available soon.</span></p></li>
</ul>
</div>
</section>
<section id="interpretability-marginal-identificationsimulation" class="slide level2">
<h2>Interpretability <span style="font-size: 0.5em; color: grey">Marginal Identification:Simulation</span></h2>
<div class="columns">
<div class="column" style="width:35%;">
<p>We simulate <span style="color:#3477eb">10,000</span> noisy observations from</p>
<p><span class="math display">\[m(x_1,x_2)=x_1+x_2+x_1x_2\]</span> If <span class="math inline">\(X_1, X_2\)</span> have each mean zero and variance one, then</p>
<ul>
<li>Marginal identification: <span class="math display">\[  \begin{eqnarray}   m_0&amp;=&amp;2corr(X_1,X_2) \\
  m_1(x_1)&amp;=&amp; x_1 -2corr(X_1,X_2) \\
  m_2(x_2)&amp;=&amp;x_2 - 2corr(X_1,X_2) \\
  m_{12}(x_1,x_2)&amp;=&amp; 2x_1x_2 + 2corr(X_1,X_2). \end{eqnarray} \]</span></li>
</ul>
</div><div class="column" style="width:65%;">
<p><img src="images/image001.png" alt="telematics" style="width:500px;"></p>
</div>
</div>
<ul>
<li><span style="color:#3477eb">Conclusion:</span> It is not clear if a method that estimates <span class="math inline">\(m\)</span> well is also a good estimator for a selection of components {<span class="math inline">\(m_S\)</span>}.
<ul>
<li><span style="font-size: 2em">This discussion is related to work done in double/debiased machine learning <span class="citation" data-cites="chernozhukov2018double">Chernozhukov et al. (<a href="#/references" role="doc-biblioref" onclick="">2018</a>)</span>.</span></li>
</ul></li>
</ul>
<div class="footer">
<p>The curse of dimensionality <span class="math inline">\(\cdots\)</span> Random Planted forest <span class="math inline">\(\cdots\)</span> <span style="color:#3477eb">Interpretability</span></p>
</div>
</section>
<section id="possible-next-steps" class="slide level2">
<h2>Possible Next Steps</h2>
<ul>
<li>Package Implementation of randomPlantedForest:
<ul>
<li><span style="font-size: 2em">Main part: C++ with Python and R version</span></li>
<li><span style="font-size: 2em">R-version is already available on github</span>
<ul>
<li><span style="font-size: 4em">Missing: Marginal identification, Plot functions…</span></li>
</ul></li>
</ul></li>
<li><span style="font-size: 1em">Focussing on estimation quality of functional components and their interpretation</span>
<ul>
<li><span style="font-size: 2em">Considering more general causal structures and problems</span></li>
</ul></li>
<li><span style="font-size: 1em">Theory for modified Random Planted Forests</span>
<ul>
<li><span style="font-size: 2em">Subsampling <span class="math inline">\(\rightarrow\)</span> confidence intervals</span></li>
</ul></li>
<li><span style="font-size: 1em">Replace functional decomposition by <span class="math inline">\(\sum_{l=1}^q \prod_{k=1}^d m_{lk}(x_k)\)</span></span></li>
<li><span style="font-size: 1em">Survival Random Planted Forest</span></li>
<li><span style="font-size: 1em">Applications, e.g., in non-life insurance</span></li>
</ul>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<div class="quarto-layout-panel" style="font-size: 3em; text-align: center">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><span style="font-size: 3.5em">Thank You!</span></p>
</div>
</div>
</div>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-bordt2022shapley" class="csl-entry" role="doc-biblioentry">
Bordt, Sebastian, and Ulrike von Luxburg. 2022. <span>“From Shapley Values to Generalized Additive Models and Back.”</span> <em>arXiv Preprint arXiv:2209.04012</em>.
</div>
<div id="ref-chernozhukov2018double" class="csl-entry" role="doc-biblioentry">
Chernozhukov, Victor, Denis Chetverikov, Mert Demirer, Esther Duflo, Christian Hansen, Whitney Newey, and James Robins. 2018. <span>“Double/Debiased Machine Learning for Treatment and Structural Parameters.”</span> <em>The Econometrics Journal</em> 21 (1): C1–68.
</div>
<div id="ref-herren2022statistical" class="csl-entry" role="doc-biblioentry">
Herren, Andrew, and P Richard Hahn. 2022. <span>“Statistical Aspects of SHAP: Functional ANOVA for Model Interpretation.”</span> <em>arXiv Preprint arXiv:2208.09970</em>.
</div>
<div id="ref-kusner2017counterfactual" class="csl-entry" role="doc-biblioentry">
Kusner, Matt J, Joshua Loftus, Chris Russell, and Ricardo Silva. 2017. <span>“Counterfactual Fairness.”</span> <em>Advances in Neural Information Processing Systems</em> 30.
</div>
<div id="ref-lindholm2022discrimination" class="csl-entry" role="doc-biblioentry">
Lindholm, Mathias, Ronald Richman, Andreas Tsanakas, and Mario V Wüthrich. 2022. <span>“Discrimination-Free Insurance Pricing.”</span> <em>ASTIN Bulletin: The Journal of the IAA</em> 52 (1): 55–89.
</div>
<div id="ref-lipton2018mythos" class="csl-entry" role="doc-biblioentry">
Lipton, Zachary C. 2018. <span>“The Mythos of Model Interpretability: In Machine Learning, the Concept of Interpretability Is Both Important and Slippery.”</span> <em>Queue</em> 16 (3): 31–57.
</div>
<div id="ref-lou2013accurate" class="csl-entry" role="doc-biblioentry">
Lou, Yin, Rich Caruana, Johannes Gehrke, and Giles Hooker. 2013. <span>“Accurate Intelligible Models with Pairwise Interactions.”</span> In <em>Proceedings of the 19th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining</em>, 623–31.
</div>
</div>
<div class="footer footer-default">

</div>
</section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="talk2_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="talk2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="talk2_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="talk2_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 1.0e-2,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>